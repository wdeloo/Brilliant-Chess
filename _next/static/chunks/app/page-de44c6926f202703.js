(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{379:(e,t,r)=>{"use strict";r.d(t,{default:()=>K});var s=r(5155),n=r(2115),l=r(2395);function o(e){var t,r;return(0,s.jsx)("svg",{className:e.class,width:"".concat(null!==(t=e.size)&&void 0!==t?t:28,"px"),height:"".concat(null!==(r=e.size)&&void 0!==r?r:28,"px"),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M602.829 712.369l230.358 233.067c22.423 22.687 58.944 22.853 81.572.373s22.795-59.096.372-81.783l-222.148-224.76c53.94-61.34 86.688-142.107 86.688-230.556 0-191.674-153.786-347.268-343.755-347.268S92.161 217.037 92.161 408.71c0 191.674 153.786 347.268 343.755 347.268 60.591 0 117.501-15.829 166.914-43.608zm-166.914-72.052c-126.02 0-228.394-103.577-228.394-231.608s102.374-231.608 228.394-231.608c126.02 0 228.394 103.577 228.394 231.608S561.935 640.317 435.915 640.317z"})})}var a=r(8596),i=r(6766);let c=[["Chess.com","".concat("/Brilliant-Chess","/images/chesscom.svg"),"platform"],["Lichess.org","".concat("/Brilliant-Chess","/images/lichess.svg"),"platform"],["PGN","".concat("/Brilliant-Chess","/images/pgn.svg"),"format"],["FEN","".concat("/Brilliant-Chess","/images/json.svg"),"format"]],d=[["Quick","".concat("/Brilliant-Chess","/images/quick.svg"),15],["Basic","".concat("/Brilliant-Chess","/images/standard.svg"),18],["Deep","".concat("/Brilliant-Chess","/images/deep.svg"),21]];function u(e){let{setData:t,selectGame:r}=e,[l,o]=(0,n.useState)(!1),[u,f]=(0,n.useState)(""),[h,m]=e.selected,[g,x]=e.depth,v=(0,n.useRef)(null),p=(0,n.useRef)(null),y=(0,n.useRef)(!1);function w(e){return"platform"===c[e][2]}(0,n.useEffect)(()=>{let e=localStorage.getItem("depth");if(!e)return;let t=Number(e);d.some(e=>e[2]===t)?x(t):(x(18),localStorage.setItem("depth",String(18)))},[]),(0,n.useEffect)(()=>{let e=localStorage.getItem("format");if(!e)return;let t=Number(e);null!=c[t]?m(t):(m(0),localStorage.setItem("format",String(0)))},[]),(0,n.useEffect)(()=>{f(""),o(!1)},[]),(0,n.useEffect)(()=>{var e,t;switch(c[h][0]){case"Chess.com":f(null!==(e=localStorage.getItem("chesscom"))&&void 0!==e?e:"");break;case"Lichess.org":f(null!==(t=localStorage.getItem("lichessorg"))&&void 0!==t?t:"");break;default:f("")}},[h]);let b=w(h)?"Enter your ".concat(c[h][0]," user here"):"Paste your ".concat(c[h][0]," code here"),j=w(h)?"List games":"Analyze";return(0,s.jsxs)("form",{ref:v,onSubmit:function(e){switch(e.preventDefault(),c[h][0]){case"Chess.com":localStorage.setItem("chesscom",u),r(u,"chessCom");break;case"Lichess.org":localStorage.setItem("lichessorg",u),r(u,"lichessOrg");break;case"PGN":t({format:"pgn",string:u});break;case"FEN":t({format:"fen",string:u})}},className:"flex flex-col items-center gap-4",children:[(0,s.jsx)("textarea",{spellCheck:!1,rows:1,value:u,onKeyDown:function(e){if("Enter"===e.key&&!y.current){var t;e.preventDefault(),null===(t=v.current)||void 0===t||t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}"Shift"===e.key&&(y.current=!0)},onKeyUp:function(e){"Shift"===e.key&&(y.current=!1)},onChange:e=>f(null==e?void 0:e.currentTarget.value),ref:p,placeholder:b,className:"w-[85%] px-2 py-[13px] flex items-center transition-colors text-xl font-bold rounded-borderRoundness border-border hover:border-borderHighlighted focus:border-borderHighlighted border-solid border-[1px] bg-backgroundBoxBox outline-none placeholder:text-placeholder placeholder:font-normal resize-none"}),(0,s.jsxs)("div",{className:"w-[85%] flex flex-col gap-2",children:[(0,s.jsxs)("button",{type:"button",className:"flex flex-row gap-1 items-center justify-center w-full h-14 rounded-borderRoundness text-xl bg-backgroundBoxBox hover:bg-backgroundBoxBoxHover hover:text-foregroundHighlighted transition-colors font-bold relative",onClick:e=>{e.preventDefault(),o(e=>!e)},children:[(0,s.jsx)(i.default,{draggable:!1,alt:"icon",src:c[h][1],width:28,height:28}),c[h][0],(0,s.jsx)("div",{className:"absolute h-full right-6 top-0 flex flex-row items-center ".concat(l?"":"rotate-180"),children:(0,s.jsx)(a.A,{class:"fill-foregroundGrey"})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",style:{display:l?"":"none"},children:[(0,s.jsxs)("h6",{className:"mt-2 font-bold flex flex-row gap-1",children:[(0,s.jsx)(i.default,{alt:"depth",src:"".concat("/Brilliant-Chess","/images/formats.svg"),width:18,height:18}),"Game Formats"]}),(0,s.jsx)("ul",{className:"grid grid-cols-2 gap-3",children:c.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{type:"button",onClick:()=>(function(e){m(e),o(!1),localStorage.setItem("format",String(e));let t=p.current;null==t||t.focus()})(t),style:{gap:0!==t?".4rem":"0"},className:"flex flex-row items-center justify-center h-12 w-full hover:text-foregroundHighlighted rounded-borderRoundness text-md bg-backgroundBoxBox hover:bg-backgroundBoxBoxHover transition-colors font-bold",children:[(0,s.jsx)(i.default,{draggable:!1,alt:"format",src:e[1],width:150,height:0,className:"h-6 w-fit",priority:!0}),e[0]]})},t))}),(0,s.jsxs)("h6",{className:"mt-2 font-bold flex flex-row gap-2",children:[(0,s.jsx)(i.default,{priority:!0,alt:"depth",src:"".concat("/Brilliant-Chess","/images/type.svg"),width:20,height:0}),"Analysis Type"]}),(0,s.jsx)("ul",{className:"grid grid-cols-3 gap-3",children:d.map((e,t)=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{title:"Depth: ".concat(e[2]),type:"button",onClick:()=>{var t;x(t=e[2]),localStorage.setItem("depth",String(t))},style:{gap:0!==t?".4rem":"0"},className:"flex flex-row items-center justify-center h-10 w-full hover:text-foregroundHighlighted rounded-borderRoundness text-md bg-backgroundBoxBox hover:bg-backgroundBoxBoxHover transition-colors font-bold border-backgroundBoxBoxHighlighted ".concat(g===e[2]?"border-[2px]":""),children:[(0,s.jsx)(i.default,{draggable:!1,alt:"format",src:e[1],width:150,height:0,className:"h-5 w-fit",priority:!0}),e[0]]})},t))})]})]}),(0,s.jsx)("input",{type:"submit",className:"w-[85%] h-16 cursor-pointer rounded-borderExtraRoundness text-2xl bg-backgroundBoxBoxHighlighted hover:bg-backgroundBoxBoxHighlightedHover transition-all font-extrabold hover:shadow-shadowBoxBoxHighlighted",value:j})]})}function f(e){return(0,s.jsx)("div",{style:{width:"".concat(e.progress,"%"),transition:"width ".concat(e.transitionTime,"ms linear")},className:"absolute left-0 bottom-0 bg-white h-1"})}function h(e){let[t,r]=(0,n.useState)(""),[a]=(0,n.useContext)(l.g).progress,i=(0,n.useRef)(a),c=(0,n.useRef)(t),{format:d,analyzeController:u}=e;return(0,n.useEffect)(()=>{c.current=t},[t]),(0,n.useEffect)(()=>{let e=setInterval(function(){let e=c.current;e.length>=3?r(""):r(e+".")},300);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{i.current=a},[a]),(0,s.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-foregroundGrey px-5 pb-5 w-full",children:["Analyzing",t]}),(0,s.jsx)("hr",{className:"border-neutral-600"}),(0,s.jsx)("div",{className:"flex-grow flex flex-col justify-center items-center relative",children:(0,s.jsxs)("div",{className:"w-[70%] bg-backgroundBox relative overflow-hidden rounded-borderExtraRoundness text-lg text-foregroundGrey flex flex-col gap-14 pb-4 pt-14 items-center",children:[(0,s.jsxs)("div",{className:"w-36 flex flex-col items-center gap-4",children:[(0,s.jsx)(o,{class:"animate-[pulse_1.25s_cubic-bezier(0.4,_0,_0.6,_1)_infinite;] scale-x-[-1] fill-backgroundBoxBoxHighlighted",size:60}),(0,s.jsx)("span",{className:"text-xl text-foreground font-bold",children:d.toUpperCase()}),(0,s.jsxs)("span",{className:"w-full",children:["Analyzing Game",t]})]}),(0,s.jsx)("button",{onClick:function(){null==u||u.abort()},className:"hover:text-foreground transition-colors",type:"button",children:"Cancel"}),(0,s.jsx)(f,{progress:a,transitionTime:100})]})})]})}function m(e){return(0,s.jsxs)("svg",{className:e.class,onClick:e.click,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 493.796 493.796",children:[(0,s.jsx)("g",{children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M355.938,200.956L81.414,12.128c-11.28-7.776-23.012-11.88-33.056-11.88c-22.052,0-36.672,18.496-36.672,48.26v397.036      c0,14.54,4.228,26.688,10.496,35.144c6.364,8.572,16.32,13.108,27.076,13.108c10.04,0,21.308-4.112,32.584-11.876l274.276-188.828      c17.632-12.152,27.3-28.508,27.296-46.076C383.414,229.456,373.594,213.1,355.938,200.956z"})})}),(0,s.jsx)("g",{children:(0,s.jsx)("g",{children:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M456.446,493.672l-0.293-0.004c-0.048,0-0.095,0.004-0.143,0.004H456.446z"}),(0,s.jsx)("path",{d:"M455.638,0L444.29,0.032c-14.86,0-27.724,12.112-27.724,26.992v439.368c0,14.896,12.652,27.124,27.532,27.124       l12.055,0.152c14.805-0.079,25.957-12.412,25.957-27.252V26.996C482.11,12.116,470.51,0,455.638,0z"})]})})})]})}function g(e){return(0,s.jsx)("svg",{onClick:e.click,className:e.class,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 493.796 493.796",children:(0,s.jsx)("g",{children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M355.938,200.956L81.414,12.128c-11.28-7.776-23.012-11.88-33.056-11.88c-22.052,0-36.672,18.496-36.672,48.26v397.036      c0,14.54,4.228,26.688,10.496,35.144c6.364,8.572,16.32,13.108,27.076,13.108c10.04,0,21.308-4.112,32.584-11.876l274.276-188.828      c17.632-12.152,27.3-28.508,27.296-46.076C383.414,229.456,373.594,213.1,355.938,200.956z"})})})})}function x(e){return(0,s.jsxs)("svg",{onClick:e.click,className:e.class,version:"1.1",id:"Layer_1",viewBox:"0 0 493.796 493.796",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs173"}),(0,s.jsx)("g",{id:"g158",transform:"matrix(0.56151542,0,0,0.56151542,214.66028,108.26107)",children:(0,s.jsx)("g",{id:"g156",children:(0,s.jsx)("path",{d:"M 355.938,200.956 81.414,12.128 C 70.134,4.352 58.402,0.248 48.358,0.248 c -22.052,0 -36.672,18.496 -36.672,48.26 v 397.036 c 0,14.54 4.228,26.688 10.496,35.144 6.364,8.572 16.32,13.108 27.076,13.108 10.04,0 21.308,-4.112 32.584,-11.876 L 356.118,293.092 c 17.632,-12.152 27.3,-28.508 27.296,-46.076 0,-17.56 -9.82,-33.916 -27.476,-46.06 z",id:"path154"})})}),(0,s.jsx)("g",{id:"g158-5",transform:"matrix(0.56151542,0,0,0.56151542,1.8613647,108.12211)",children:(0,s.jsx)("g",{id:"g156-3",children:(0,s.jsx)("path",{d:"M 355.938,200.956 81.414,12.128 C 70.134,4.352 58.402,0.248 48.358,0.248 c -22.052,0 -36.672,18.496 -36.672,48.26 v 397.036 c 0,14.54 4.228,26.688 10.496,35.144 6.364,8.572 16.32,13.108 27.076,13.108 10.04,0 21.308,-4.112 32.584,-11.876 L 356.118,293.092 c 17.632,-12.152 27.3,-28.508 27.296,-46.076 0,-17.56 -9.82,-33.916 -27.476,-46.06 z",id:"path154-5"})})}),(0,s.jsx)("g",{id:"g168",transform:"matrix(0.56151542,0,0,0.56151542,214.66028,108.26107)",children:(0,s.jsx)("g",{id:"g166",children:(0,s.jsxs)("g",{id:"g164",children:[(0,s.jsx)("path",{d:"m 456.446,493.672 -0.293,-0.004 c -0.048,0 -0.095,0.004 -0.143,0.004 z",id:"path160"}),(0,s.jsx)("path",{d:"M 455.638,0 444.29,0.032 c -14.86,0 -27.724,12.112 -27.724,26.992 v 439.368 c 0,14.896 12.652,27.124 27.532,27.124 l 12.055,0.152 c 14.805,-0.079 25.957,-12.412 25.957,-27.252 V 26.996 C 482.11,12.116 470.51,0 455.638,0 Z",id:"path162"})]})})})]})}function v(e){return(0,s.jsxs)("svg",{className:e.class,onClick:e.click,version:"1.1",id:"Layer_1",viewBox:"0 0 493.796 493.796",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs21"}),(0,s.jsx)("g",{id:"g16",transform:"matrix(1.5827895,0,0,1,-579.3935,0)",children:(0,s.jsx)("g",{id:"g14",children:(0,s.jsxs)("g",{id:"g12",children:[(0,s.jsx)("path",{d:"m 456.446,493.672 -0.293,-0.004 c -0.048,0 -0.095,0.004 -0.143,0.004 z",id:"path8"}),(0,s.jsx)("path",{d:"M 455.638,0 444.29,0.032 c -14.86,0 -27.724,12.112 -27.724,26.992 v 439.368 c 0,14.896 12.652,27.124 27.532,27.124 l 12.055,0.152 c 14.805,-0.079 25.957,-12.412 25.957,-27.252 V 26.996 C 482.11,12.116 470.51,0 455.638,0 Z",id:"path10"})]})})}),(0,s.jsx)("g",{id:"g16-3",transform:"matrix(1.5827895,0,0,1,-349.22519,0)",children:(0,s.jsx)("g",{id:"g14-6",children:(0,s.jsxs)("g",{id:"g12-7",children:[(0,s.jsx)("path",{d:"m 456.446,493.672 -0.293,-0.004 c -0.048,0 -0.095,0.004 -0.143,0.004 z",id:"path8-5"}),(0,s.jsx)("path",{d:"M 455.638,0 444.29,0.032 c -14.86,0 -27.724,12.112 -27.724,26.992 v 439.368 c 0,14.896 12.652,27.124 27.532,27.124 l 12.055,0.152 c 14.805,-0.079 25.957,-12.412 25.957,-27.252 V 26.996 C 482.11,12.116 470.51,0 455.638,0 Z",id:"path10-3"})]})})})]})}function p(){let[e,t]=(0,n.useState)(!1),r=(0,n.useContext)(l.g),[o]=r.playing,[a]=r.moveNumber,i=r.gameController,c=(0,n.useRef)(a);return(0,n.useEffect)(()=>{c.current=a},[a]),(0,s.jsxs)("div",{className:"w-[85%] rounded-borderRoundness p-3 flex flex-row justify-around items-center",children:[(0,s.jsx)(x,{click:function(){i.first()},class:"h-[45px] rotate-180 fill-foregroundGrey transition-colors hover:fill-foregroundHighlighted"}),(0,s.jsx)(m,{click:function(){i.back()},class:"h-[25px] rotate-180 fill-foregroundGrey transition-colors hover:fill-foregroundHighlighted"}),(0,s.jsxs)("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[(0,s.jsx)(g,{click:function(){i.play()},class:"h-[25px] transition-colors pl-1 ".concat(e?"fill-foregroundHighlighted":"fill-foregroundGrey"," ").concat(o?"hidden":"")}),(0,s.jsx)(v,{click:function(){i.pause()},class:"h-[25px] transition-colors pr-1 ".concat(e?"fill-foregroundHighlighted":"fill-foregroundGrey"," ").concat(o?"":"hidden")})]}),(0,s.jsx)(m,{click:function(){i.forward()},class:"h-[25px] fill-foregroundGrey transition-colors hover:fill-foregroundHighlighted"}),(0,s.jsx)(x,{click:function(){i.last()},class:"h-[45px] fill-foregroundGrey transition-colors hover:fill-foregroundHighlighted"})]})}function y(e){return(0,s.jsx)("svg",{className:e.class,height:"".concat(e.size,"px"),width:"".concat(e.size,"px"),version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 297 297",children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M223.333,247h-5.926c2.607-3.811,10.798-18.024-0.727-32.248c-13.334-16.46-39.863-65.748-27.324-98.752h0.977 c4.418,0,7.667-3.582,7.667-8v-1c0-4.418-3.249-8-7.667-8h-1.225c10.917-10.466,17.725-25.184,17.725-41.5 c0-31.756-25.744-57.5-57.5-57.5s-57.5,25.744-57.5,57.5c0,16.316,6.808,31.034,17.725,41.5h-2.225c-4.418,0-8.333,3.582-8.333,8v1 c0,4.418,3.915,8,8.333,8h1.979c12.539,33.004-13.99,82.292-27.324,98.752c-11.524,14.224-3.334,28.437-0.727,32.248h-6.928 c-4.418,0-8.333,3.582-8.333,8v18c0,4.418,3.915,8,8.333,8H75v16h148v-16c5,0,8-3.582,8-8v-18C231,250.582,227.751,247,223.333,247 z"})})})}var w=r(1425);function b(e){return(0,s.jsx)("svg",{className:e.class,height:e.size,width:e.size,version:"1.1",id:"_x32_",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M510.698,196.593c-3.61-11.2-14.034-18.795-25.794-18.795H329.21L281.791,30.155   c-3.599-11.2-14.018-18.808-25.791-18.808c-11.772,0-22.192,7.608-25.791,18.808l-47.418,147.642H27.097   c-11.761,0-22.185,7.594-25.795,18.795c-3.599,11.2,0.436,23.449,9.999,30.302l126.246,90.643l-48.598,147.54   c-3.694,11.193,0.278,23.47,9.801,30.398c9.529,6.926,22.44,6.897,31.94-0.058L256,403.594l125.312,91.824   c9.5,6.956,22.411,6.985,31.941,0.058c9.522-6.927,13.494-19.205,9.811-30.398l-48.61-147.54L500.7,226.895   C510.262,220.042,514.298,207.792,510.698,196.593z"})})})}function j(e){return(0,s.jsxs)("svg",{className:e.class,width:e.size+"px",height:e.size+"px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:"chess [#1218]"}),(0,s.jsx)("desc",{children:"Created with Sketch."}),(0,s.jsx)("defs",{}),(0,s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:(0,s.jsx)("g",{id:"Dribbble-Light-Preview",transform:"translate(-220.000000, -2719.000000)",children:(0,s.jsx)("g",{id:"icons",transform:"translate(56.000000, 160.000000)",children:(0,s.jsx)("path",{d:"M174,2573 L178,2573 L178,2569 L174,2569 L174,2573 Z M170,2569 L174,2569 L174,2565 L170,2565 L170,2569 Z M182,2565 L178,2565 L178,2569 L182,2569 L182,2573 L178,2573 L178,2577 L174,2577 L174,2573 L170,2573 L170,2577 L167,2577 C166.448,2577 166,2576.657 166,2576.105 L166,2573 L170,2573 L170,2569 L166,2569 L166,2565 L170,2565 L170,2561 L174,2561 L174,2565 L178,2565 L178,2561 L181,2561 C181.552,2561 182,2561.552 182,2562.105 L182,2565 Z M182,2559 L166,2559 C164.895,2559 164,2559.895 164,2561 L164,2577 C164,2578.104 164.895,2579 166,2579 L182,2579 C183.105,2579 184,2578.104 184,2577 L184,2561 C184,2559.895 183.105,2559 182,2559 L182,2559 Z",id:"chess-[#1218]"})})})})]})}var k=r(2794);let N=["brilliant","great","best","excellent","good","book","inaccuracy","mistake","miss","blunder"];function C(e){let[t,r]=(0,n.useState)({w:{},b:{}}),{moves:l}=e;return(0,n.useEffect)(()=>{let e={w:{},b:{}};l.forEach((t,r)=>{let s=t.moveRating,n=r%2==0?"b":"w";e[n][s]=e[n][s]+1||1}),r(e)},[]),(0,s.jsx)("div",{className:"w-[85%] flex flex-col gap-3 justify-center reduceSummary:pr-[35px] pr-[26px]",children:N.map(e=>{var r,n;let l=e.charAt(0).toUpperCase()+e.slice(1);return(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:l}),(0,s.jsxs)("div",{className:"flex flex-row text-xl font-extrabold w-fit",children:[(0,s.jsx)("span",{className:"reduceSummary:w-[81px] w-[40px] text-left text-highlight".concat(l),children:null!==(r=t.w[e])&&void 0!==r?r:0}),(0,s.jsx)(k.A,{draggable:!0,className:"select-none",rating:e,size:30}),(0,s.jsx)("span",{className:"reduceSummary:w-[81px] w-[40px] text-right text-highlight".concat(l),children:null!==(n=t.b[e])&&void 0!==n?n:0})]})]},e)})})}var S=r(1836);function _(e){return(0,s.jsx)("div",{style:{width:e.width,fontSize:e.fontSize,paddingTop:e.paddingY,paddingBottom:e.paddingY},className:"w-20 py-2 rounded-borderRoundness text-2xl font-bold ".concat(e.white?"bg-evaluationBarWhite text-evaluationBarBlack":"bg-evaluationBarBlack text-evaluationBarWhite"," text-center"),children:e.children})}var L=r(3912);function M(e){return e.reduce((e,t)=>e+t,0)/e.length}function E(e,t,r,s){e[r][s].push(t)}function z(e){let{players:t,setAccuracyPhases:r,moves:l}=e,[o,a]=e.accuracy;return(0,n.useEffect)(()=>{let e={w:[],b:[]},t={opening:{w:[],b:[]},middlegame:{w:[],b:[]},endgame:{w:[],b:[]}},s="opening";for(let r of l){let n=new L.d$(r.fen).board(),l="w"===r.color?"b":"w",o=r.moveRating,a=NaN;switch(o){case"brilliant":case"great":case"best":case"book":a=100;break;case"excellent":a=90;break;case"good":a=70;break;case"inaccuracy":case"miss":a=30;break;case"mistake":a=20;break;case"blunder":a=0}if(!isNaN(a))switch(function(e,t,r){e[r].push(t)}(e,a,l),s){case"opening":E(t,a,"opening",l),function(e){let t=0,r=0;for(let r of e[0])(null==r?void 0:r.color)!=="w"&&((null==r?void 0:r.type)==="n"||(null==r?void 0:r.type)==="b"||(null==r?void 0:r.type)==="q")&&t++;for(let t of e[e.length-1])(null==t?void 0:t.color)!=="b"&&((null==t?void 0:t.type)==="n"||(null==t?void 0:t.type)==="b"||(null==t?void 0:t.type)==="q")&&r++;let s=5-t,n=5-r;if(s>=3&&n>=2||n>=3&&s>=2||s>=4||n>=4)return!0}(n)&&(s="middlegame");break;case"middlegame":E(t,a,"middlegame",l),function(e){let t=0,r=0;for(let s of e)for(let e of s)((null==e?void 0:e.type)==="r"||(null==e?void 0:e.type)==="n"||(null==e?void 0:e.type)==="b"||(null==e?void 0:e.type)==="q")&&("w"===e.color?t++:r++);if(t<=2&&r<=2||t<=1||r<=1)return!0}(n)&&(s="endgame");break;case"endgame":E(t,a,"endgame",l)}}a({w:M(e.w),b:M(e.b)}),r(t)},[l]),(0,s.jsxs)("div",{className:"w-[85%] flex flex-col items-end gap-3",children:[(0,s.jsxs)("div",{className:"reduceSummary:w-[262px] w-[160px] flex flex-row justify-between font-extrabold",children:[(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex flex-row justify-center whitespace-nowrap overflow-visible",children:(0,s.jsx)("span",{children:t[0].name})}),(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex flex-row justify-center whitespace-nowrap overflow-visible",children:(0,s.jsx)("span",{children:t[1].name})})]}),(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:"Players"}),(0,s.jsxs)("div",{className:"flex flex-row reduceSummary:w-[262px] w-[160px] justify-between",children:[(0,s.jsx)("div",{className:"reduceSummary:h-20 reduceSummary:w-20 h-16 w-16 flex flex-row justify-center items-end bg-backgroundProfileWhite rounded-borderRoundness",children:(0,s.jsx)(S.A,{width:e.reducedSummary?58:70,height:e.reducedSummary?58:70,class:"fill-foregroundProfileWhite"})}),(0,s.jsx)("div",{className:"reduceSummary:h-20 reduceSummary:w-20 h-16 w-16 flex flex-row justify-center items-end bg-backgroundProfileBlack rounded-borderRoundness",children:(0,s.jsx)(S.A,{width:e.reducedSummary?58:70,height:e.reducedSummary?58:70,class:"fill-foregroundProfileBlack"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:"Accuracy"}),(0,s.jsxs)("div",{className:"flex flex-row reduceSummary:w-[262px] w-[160px] justify-between",children:[(0,s.jsx)(_,{fontSize:e.reducedSummary?18:void 0,width:e.reducedSummary?64:void 0,paddingY:e.reducedSummary?4:void 0,white:!0,children:o.w.toFixed(1)}),(0,s.jsx)(_,{fontSize:e.reducedSummary?18:void 0,width:e.reducedSummary?64:void 0,paddingY:e.reducedSummary?4:void 0,children:o.b.toFixed(1)})]})]})]})}function R(e){return e>3e3?"".concat(3e3,"+"):String(e)}function B(e){let t=50*Math.round((1.5*Math.pow((e-40)/60,4)*2700+300)/50);return isNaN(t)?0:t}function A(e){let t;let r=M(e);return e.length<3?{rating:null,accuracy:null}:{rating:r>=95?"great":r>=90?"best":r>=80?"excellent":r>=60?"good":r>=40?"inaccuracy":r>=20?"mistake":"blunder",accuracy:r.toFixed(1)}}function O(e){let{titleText:t,ratingPhase:r}=e,{rating:n,accuracy:l}=r;return n&&l?(0,s.jsx)(k.A,{draggable:!0,rating:n,size:30,title:t+": "+l}):(0,s.jsx)("span",{className:"text-xl",title:"Not enough moves to evaluate this phase.",children:"-"})}function W(e){let{accuracy:t,accuracyPhases:r,reducedSummary:n}=e;return(0,s.jsxs)("div",{className:"w-[85%] flex flex-col items-end gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,s.jsxs)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:[n?"":"Game ","Rating"]}),(0,s.jsxs)("div",{className:"flex flex-row reduceSummary:w-[262px] reduceSummary:min-w-[262px] min-w-[160px] w-[160px] justify-between",children:[(0,s.jsx)(_,{fontSize:n?18:void 0,width:n?64:void 0,paddingY:n?4:void 0,white:!0,children:R(B(t.w))}),(0,s.jsx)(_,{fontSize:n?18:void 0,width:n?64:void 0,paddingY:n?4:void 0,children:R(B(t.b))})]})]}),(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:"Opening"}),(0,s.jsxs)("div",{className:"flex flex-row reduceSummary:w-[262px] w-[160px] justify-between",children:[(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex items-center justify-center select-none",children:(0,s.jsx)(O,{ratingPhase:A(r.opening.w),titleText:"Opening Accuracy"})}),(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex items-center justify-center select-none",children:(0,s.jsx)(O,{ratingPhase:A(r.opening.b),titleText:"Opening Accuracy"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:"Midgame"}),(0,s.jsxs)("div",{className:"flex flex-row reduceSummary:w-[262px] w-[160px] justify-between",children:[(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex items-center justify-center select-none",children:(0,s.jsx)(O,{ratingPhase:A(r.middlegame.w),titleText:"Middlegame Accuracy"})}),(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex items-center justify-center select-none",children:(0,s.jsx)(O,{ratingPhase:A(r.middlegame.b),titleText:"Middlegame Accuracy"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,s.jsx)("span",{className:"font-bold text-foregroundGrey reduceSummary:text-lg text-base",children:"Endgame"}),(0,s.jsxs)("div",{className:"flex flex-row reduceSummary:w-[262px] w-[160px] justify-between",children:[(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex items-center justify-center select-none",children:(0,s.jsx)(O,{ratingPhase:A(r.endgame.w),titleText:"Endgame Accuracy"})}),(0,s.jsx)("div",{className:"reduceSummary:w-20 w-16 flex items-center justify-center select-none",children:(0,s.jsx)(O,{ratingPhase:A(r.endgame.b),titleText:"Endgame Accuracy"})})]})]})]})}let D={_isA_Move:"is a _ move",_is_:"is _",_isAn_:"is an _",_isA_:"is a _"},H={book:D._isA_Move,forced:D._is_,brilliant:D._is_,great:D._isA_Move,best:D._is_,excellent:D._is_,good:D._is_,inaccuracy:D._isAn_,mistake:D._isA_,miss:D._isA_,blunder:D._isA_};function I(e){let{evaluation:t,white:r,smaller:n,best:l}=e,o=Number(t[1])/100*(r?1:-1),a="";return o>0&&(a="+"),o<0&&(a="-"),(0,s.jsx)("div",{style:{fontSize:n?"14px":"",padding:n?"2px":"",width:n?"46px":"",backgroundColor:"-"===a?"var(--evaluationBarBlack)":"var(--evaluationBarWhite)",color:"-"===a?"var(--foreground)":"var(--foregroundBlack)",filter:"-"===a?"":"brightness(0.9)"},className:"rounded-borderRoundness py-1 font-extrabold w-[61px] text-center",children:"mate"===t[0]&&t[1]?a+"M"+(Math.abs(Number(t[1]))-Number(!!l)):t[1]?a+Math.abs(o).toFixed(2):r?"0-1":"1-0"})}function T(e){let{comment:t,rating:r,moveSan:n,evaluation:l,white:o,overallGameComment:a}=e;return t&&r&&n?(0,s.jsxs)("div",{style:{backgroundColor:"#ffffff"},className:"h-44 w-[85%] p-4 rounded-borderExtraRoundness text-foregroundBlack text-lg font-bold flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)(k.A,{draggable:!0,rating:r,size:32}),(0,s.jsxs)("span",{children:[n," ",H[r].replace("_",r)]})]}),(0,s.jsx)(I,{evaluation:l,white:o})]}),(0,s.jsx)("div",{children:t})]}):(0,s.jsx)("div",{className:"bg-white w-[85%] rounded-borderExtraRoundness p-4 font-bold text-lg text-foregroundBlack",dangerouslySetInnerHTML:{__html:a}})}var G=r(1573);let F={forced:"",brilliant:"text-highlightBrilliant",great:"text-highlightGreat",best:"text-highlightBest",excellent:"text-highlightExcellent",good:"text-highlightGood",book:"text-highlightBook",inaccuracy:"text-highlightInaccuracy",mistake:"text-highlightMistake",miss:"text-highlightMiss",blunder:"text-highlightBlunder"};function P(e){for(let t=e.length-1;t>=0;t--)if("book"===e[t].moveRating)return t;return -1}function V(e){var t,r,l,o,a,i,c,d;let{moves:u,overallGameComment:f,container:h,moveNumber:m,setMoveNumber:g,setAnimation:x,setForward:v,customLine:p,returnedToNormalGame:y,analyzingMove:w}=e,[b,j]=(0,n.useState)(0),N=(0,n.useRef)(null),C=(0,n.useRef)(null),S=(0,n.useRef)(null),_=(0,n.useRef)(null),M=(null===(t=u[1])||void 0===t?void 0:t.color)===L.UE;function E(){if(!S.current)return;let e=S.current.getElementsByTagName("li")[0];if(!e)return;let t=e.offsetHeight;S.current.scrollTo({behavior:m?"smooth":"instant",top:t*Math.floor((m-1)/2)+4*Math.floor((m-1)/2)})}function z(){if(!N.current||!C.current||!S.current||!_.current)return;let e=N.current.offsetHeight,t=e-(C.current.offsetHeight+_.current.offsetHeight);j(t),S.current.style.height=t?"".concat(t,"px"):"100%"}function R(e){g(e);let t=m-e;1===t?(x(!0),v(!1)):-1===t&&(x(!0),v(!0))}(0,n.useEffect)(E,[m]),(0,n.useEffect)(E,[]),(0,n.useEffect)(()=>(z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)),[]),(0,n.useEffect)(()=>{z()},[m]);let B=P(u),{previousMove:A,move:O}=(0,G.L)(u,m,p,y);return(0,s.jsxs)("div",{ref:N,className:"flex flex-col gap-3 items-center h-full",children:[(0,s.jsx)("div",{ref:C,className:"w-full flex flex-col items-center",children:(0,s.jsx)(T,{comment:w?null==A?void 0:A.comment:null==O?void 0:O.comment,rating:w?null==A?void 0:A.moveRating:null==O?void 0:O.moveRating,moveSan:w?null==A?void 0:A.san:null==O?void 0:O.san,evaluation:w?null!==(a=null==A?void 0:null===(r=A.previousStaticEvals)||void 0===r?void 0:r[0])&&void 0!==a?a:["cp","0"]:null!==(i=null==O?void 0:null===(l=O.previousStaticEvals)||void 0===l?void 0:l[0])&&void 0!==i?i:["cp","0"],white:w?(null==A?void 0:A.color)===L.UE:(null==O?void 0:O.color)===L.UE,overallGameComment:f})}),(0,s.jsx)("div",{style:{display:A?"":"none"},className:"bg-backgroundBoxDarker w-full",children:(0,s.jsxs)("div",{className:"w-[85%] font-extrabold text-highlightBest mx-auto flex flex-row items-center gap-2 py-2",children:[(0,s.jsx)(I,{best:!0,smaller:!0,evaluation:null!==(c=null==A?void 0:null===(o=A.previousStaticEvals)||void 0===o?void 0:o[0])&&void 0!==c?c:["cp","0"],white:(null!==(d=null==A?void 0:A.color)&&void 0!==d?d:L.UE)===L.UE}),(0,s.jsx)(k.A,{rating:"best",size:22}),null==A?void 0:A.bestMoveSan," is best"]})}),(0,s.jsx)("ul",{style:{height:b||"100%"},ref:S,className:"gap-y-1 overflow-y-auto overflow-x-hidden w-[85%] select-none flex flex-col",children:(function(){var e,t,r,s;let n=u.slice(1),l=[],o=0;for(M&&(l.push([1,void 0,null!==(e=n[0].san)&&void 0!==e?e:""]),o+=1);o<n.length;o+=2){let e=n.slice(o,o+2),a=Math.ceil((o+2)/2);e[1]?l.push([a,null!==(t=e[0].san)&&void 0!==t?t:"",null!==(r=e[1].san)&&void 0!==r?r:""]):l.push([a,null!==(s=e[0].san)&&void 0!==s?s:"",void 0])}return l})().map((e,t)=>(0,s.jsxs)("li",{className:"flex flex-row text-foregroundGrey items-center w-full",children:[(0,s.jsxs)("span",{className:"font-bold w-[33px]",children:[e[0],"."]}),(0,s.jsx)("div",{className:"flex flex-row text-lg font-extrabold flex-grow",children:e.slice(1).map((e,r)=>{var n,l;if(!e)return(0,s.jsx)("div",{className:"w-1/2"},"".concat(t,"-").concat(r));let o=2*t+r+ +!M,a=m===o,i=u[o].moveRating,c=null===(n=u[o-1])||void 0===n?void 0:n.moveRating,d=(null===(l=u[o+1])||void 0===l||l.moveRating,function(e,t,r,s,n){if(t&&(e===n||"best"===t&&"inaccuracy"===r||"blunder"===t||"mistake"===t||"miss"===t||"great"===t||"brilliant"===t))return{rating:t,textClass:F[t]}}(o,i,c,0,B)),f=d?d.textClass:a?"text-foregroundHighlighted":"";return(0,s.jsxs)("div",{className:"w-1/2 flex flex-row gap-1 items-center",children:[(0,s.jsx)("button",{type:"button",onClick:()=>R(o),className:"w-[22px] outline-none",children:d?(0,s.jsx)(k.A,{draggable:!0,rating:d.rating,size:22}):null}),(0,s.jsx)("button",{type:"button",onClick:()=>R(o),className:"rounded-borderRoundness outline-none border-b-2 text-left px-2 w-fit ".concat(a?"bg-backgroundBoxBox border-backgroundBoxBoxHover":"border-transparent"," ").concat(f),children:e})]},"".concat(t,"-").concat(r))})})]},t))}),(0,s.jsx)("div",{ref:_,children:(0,s.jsx)(U,{container:h,moves:u,moveNumber:m,setMoveNumber:g,setAnimation:x,setForward:v})})]})}function U(e){var t,r,l;let{moves:o,container:a,moveNumber:i,setMoveNumber:c,setAnimation:d,setForward:u}=e,[f,h]=(0,n.useState)(NaN),[m,g]=(0,n.useState)([]),[x,v]=(0,n.useState)({width:400,height:96}),p=o.length-1,y=f/p*x.width,w=i/p*x.width;function b(e,t){var r,s;let n;let l=null!==(s=null===(r=e.previousStaticEvals)||void 0===r?void 0:r[0])&&void 0!==s?s:["cp","0"],o=t%2==0,a=Number(l[1])*(o?1:-1);return"mate"===l[0]?l[1]?+(a>=0):+!o:Math.min(Math.max((a- -400)*.8500000000000001/800+.075,.075),.925)}(0,n.useEffect)(()=>{function e(){v({width:.85*a.offsetWidth,height:96})}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{g(o.map((e,t)=>{var r,s;let n=e.moveRating,l=null===(r=o[t-1])||void 0===r?void 0:r.moveRating;return null===(s=o[t+1])||void 0===s||s.moveRating,{color:function(e,t,r,s,n){if(t){if(e===n)return"highlightBook";if("best"===t&&"inaccuracy"===r)return"highlightBest";if("blunder"===t)return"highlightBlunder";if("mistake"===t)return"highlightMistake";if("miss"===t)return"highlightMiss";if("great"===t)return"highlightGreat";if("brilliant"===t)return"highlightBrilliant"}}(t,n,l,0,j),move:e}}))},[o]);let j=P(o),k="forced"!==o[i].moveRating?"highlight".concat((null===(l=(r=null!==(t=o[i].moveRating)&&void 0!==t?t:"")[0])||void 0===l?void 0:l.toUpperCase())+r.substring(1)):"foregroundGrey";return(0,s.jsxs)("svg",{onClick:function(){f!==i&&(1===Math.abs(i-f)&&d(!0),f>i?u(!0):u(!1),c(f))},onMouseMove:function(e){let t=e.currentTarget.getBoundingClientRect().x;h(Math.round((e.clientX-t)/(x.width/p)))},onMouseLeave:()=>h(NaN),width:x.width,height:x.height,className:"bg-evaluationBarBlack rounded-borderRoundness",children:[(0,s.jsx)("path",{fill:"#ffffff",d:"M 0 ".concat(.5*x.height," ").concat(o.map((e,t)=>{let r=t/p,s=1-b(e,t),n=x.width*r,l=x.height*s;return"L ".concat(n," ").concat(l)}).join(" ")," L ").concat(x.width," ").concat(x.height," L 0 ").concat(x.height)}),(0,s.jsx)("line",{x1:0,y1:x.height/2,x2:x.width,y2:x.height/2,className:"stroke-foregroundGrey opacity-75 stroke-2"}),isNaN(y)?"":(0,s.jsx)("line",{x1:y,y1:x.height,x2:y,y2:0,className:"stroke-foregroundGrey opacity-50 stroke-2"}),isNaN(w)?"":(0,s.jsx)("line",{style:{display:i?"":"none",stroke:"var(--".concat(k,")")},x1:w,y1:x.height,x2:w,y2:0,className:"stroke-[4px]"}),m.map((e,t)=>{var r;if(!(e.color||t===i&&i))return;let n=t/p,l=1-b(e.move,t),o=x.width*n,a=x.height*l;return(0,s.jsx)("circle",{style:{fill:"var(--".concat(null!==(r=e.color)&&void 0!==r?r:k,")")},cx:o,cy:a,r:5},t)})]})}var J=r(8266);function q(e){let{moves:t,container:r,players:l,moveNumber:o,setMoveNumber:a,setAnimation:i,setForward:c}=e,[d,u]=(0,n.useState)(!1),f=(0,n.useRef)(null),[h,m]=(0,n.useState)({w:NaN,b:NaN}),[g,x]=(0,n.useState)({opening:{w:[],b:[]},middlegame:{w:[],b:[]},endgame:{w:[],b:[]}});return(0,n.useEffect)(()=>{let e=new ResizeObserver(e=>{e.forEach(()=>{u(window.innerWidth<J.VU)})}),t=f.current;t&&e.observe(t)},[]),(0,s.jsxs)("div",{ref:f,className:"flex flex-col gap-3 items-center",children:[(0,s.jsx)(U,{setMoveNumber:a,moves:t,container:r,moveNumber:o,setAnimation:i,setForward:c}),(0,s.jsx)(z,{reducedSummary:d,setAccuracyPhases:x,accuracy:[h,m],players:l,moves:t}),(0,s.jsx)("hr",{className:"border-neutral-600 w-[85%]"}),(0,s.jsx)(C,{moves:t}),(0,s.jsx)("hr",{className:"border-neutral-600 w-[85%]"}),(0,s.jsx)(W,{reducedSummary:d,accuracy:h,accuracyPhases:g})]})}let Y={win:["__WINNER__ claimed victory after a well-fought game. Let's analyze __LOSER__'s key mistakes and __WINNER__'s critical moves.","A strong performance by __WINNER__ secured the win. Let's explore how __LOSER__ could have defended better.","__WINNER__ emerged victorious, showcasing strategic play. Let's review the moments that defined __LOSER__'s downfall.","__WINNER__ secured a hard-earned win through precise play. Let's analyze where __LOSER__ could have improved.","__WINNER__ capitalized on key opportunities to claim victory. Let's analyze how __LOSER__ could have countered.","A decisive win for __WINNER__, who navigated the complexities of the position expertly. Let's review __LOSER__'s critical moments.","__LOSER__ fought hard but couldn't hold off __WINNER__'s attack. Let's explore how __WINNER__ secured the win.","__WINNER__'s persistence paid off, resulting in a well-deserved victory. Let's analyze how __LOSER__'s defense fell short."],draw:["Neither __WINNER__ nor __LOSER__ managed to break through, resulting in a draw. Let's explore missed opportunities on both sides.","The game stabilized into a draw after intense play from both __WINNER__ and __LOSER__. Let's revisit the critical decisions.","An exciting battle between __WINNER__ and __LOSER__ ended in a draw. Let's analyze what each side could have done differently.","Despite intense efforts from both sides, the game concluded in a draw. Let's examine the moments where __WINNER__ and __LOSER__ missed opportunities.","__WINNER__ and __LOSER__ reached a draw after an exciting battle with chances for both. Let's analyze the critical moves.","After an intense struggle, neither __WINNER__ nor __LOSER__ could gain the upper hand, resulting in a draw. Let's break down the decisive moments.","After a dynamic game, neither __WINNER__ nor __LOSER__ could secure the win, resulting in a draw. Let's review the critical phases.","__WINNER__ and __LOSER__ showed strong play throughout, but the game concluded in a draw. Let's explore the key decisions."],unknown:["An intense game between __WINNER__ and __LOSER__. Let's analyze the key moments that shaped the outcome.","A well-fought battle between __WINNER__ and __LOSER__. Let's break down the critical moves and decisions.","A complex and engaging game took place. Let's dive into the strategies employed by __WINNER__ and __LOSER__.","Both __WINNER__ and __LOSER__ displayed strong play. Let's review the turning points that defined the match.","A game full of strategic moments and tactical battles. Let's analyze the key positions and ideas.","An intriguing contest unfolded between __WINNER__ and __LOSER__. Let's explore the critical junctures of the game.","Both players showcased their skills in an engaging match. Let's take a closer look at their key moves.","A fascinating encounter between __WINNER__ and __LOSER__. Let's analyze how the game developed and the decisions made."]};var Z=r(8951),X=r(6376);function $(e){let{url:t,username:r,depth:o,unSelect:a}=e,[i,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),f=(0,n.useContext)(l.g),h=(0,n.useContext)(X.b),m=f.data[1],g=h.errors[1];return((0,n.useEffect)(()=>{(async()=>{try{u(!0);let e=await fetch(t,{headers:{Accept:"application/x-ndjson"}});if(!e.ok)throw Error(String(e.status));let r=(await e.text()).split("\n").map(e=>{try{return JSON.parse(e)}catch(e){return null}}).filter(e=>e).map(e=>{let t=e.players.white.user.name,r=e.players.white.rating,s=e.players.black.user.name,n=e.players.black.rating,l=e.winner,o=e.createdAt,a=e.pgn,i=e.speed;return{whiteElo:r,whiteName:t,blackElo:n,blackName:s,result:l,timestamp:o,pgn:a,timeClass:i}}).filter(e=>{try{new L.d$().loadPgn(e.pgn)}catch(e){return!1}return!0});u(!1),c(r)}catch(e){a(),await (0,Z.s)(g,w.Bk[0],w.Bk[1]),await (0,Z.a)(g,w.Sf[0],w.Sf[1])}})()},[]),0!==i.length||d)?(0,s.jsx)(w.eD,{gamesInfo:i,loading:d,username:r,depth:o,setData:m}):(0,s.jsx)("div",{className:"text-center font-bold text-2xl my-4",children:"No games found in this month..."})}function Q(e){let{username:t,depth:r,stopSelecting:l}=e,[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(NaN),[u,f]=(0,n.useState)(NaN),[h,m]=(0,n.useState)(!0),g=(0,n.useContext)(X.b).errors[1],x=e=>{f(t=>t===e?NaN:e)};return(0,n.useEffect)(()=>{(async()=>{try{m(!0);let e=await fetch("https://lichess.org/api/games/user/".concat(t,"?sort=dateAsc&max=1"),{headers:{Accept:"application/x-ndjson"}});if(!e.ok)throw Error(String(e.status));let r=await e.json(),s=new Date(r.createdAt),n=await fetch("https://lichess.org/api/games/user/".concat(t,"?sort=dateDesc&max=1"),{headers:{Accept:"application/x-ndjson"}});if(!n.ok)throw Error(String(n.status));let l=await n.json(),o=new Date(l.createdAt),a=new Date(s),c=[];for(;a<=o;){let e=new Date(a.getFullYear(),a.getMonth(),1,0,0,0,0),r=new Date(a.getFullYear(),a.getMonth()+1,1,0,0,0,0);r.setMilliseconds(r.getMilliseconds()-1);let s=a.getMonth(),n=a.getFullYear();c.push({month:s+1,year:n,url:"https://lichess.org/api/games/user/".concat(t,"?since=").concat(e.getTime(),"&until=").concat(r.getTime(),"&pgnInJson=true")}),a.setMonth(a.getMonth()+1)}m(!1),i(c.toReversed())}catch(e){l(),await (0,Z.s)(g,w.v[0],w.v[1]),await (0,Z.a)(g,w.Sf[0],w.Sf[1])}})()},[t]),(0,s.jsxs)("div",{className:"overflow-x-hidden overflow-y-auto ".concat(h?" flex flex-col justify-center flex-grow":""),children:[(0,s.jsxs)("h1",{style:{display:h?"none":""},className:"text-2xl py-4 px-8 sticky text-foreground",children:[(0,s.jsx)("a",{target:"_blank",href:"".concat("https://lichess.org/@/").concat(t),className:"hover:underline text-foregroundHighlighted text-3xl font-bold",children:t}),"'s games"]}),(0,s.jsx)("hr",{style:{display:h?"none":""},className:"border-border"}),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[h?(0,s.jsx)(w.Rh,{whatIsLoading:"Archives",abort:l}):null,o.map((e,n)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>x(n),onMouseEnter:()=>d(n),onMouseLeave:()=>d(NaN),type:"button",className:"".concat(c===n||u===n?"text-foregroundHighlighted":"text-foregroundGrey"," hover:bg-backgroundBoxHover w-full tracking-wide transition-colors text-2xl px-8 py-4 flex flex-row justify-between items-center"),children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("b",{children:e.year})," ",(0,w.Ge)(e.month)]}),(0,s.jsx)("div",{style:{opacity:c===n||u===n?"100":"0",transform:"rotate(".concat(u!==n?"180deg":"0",")")},className:"transition-opacity",children:(0,s.jsx)(a.A,{class:"fill-foregroundHighlighted"})})]}),u===n?(0,s.jsx)($,{url:e.url,username:t,depth:r,unSelect:()=>f(NaN)}):""]},n))]})]})}function K(){let[e,t]=(0,n.useState)({platform:"chessCom",username:""}),[r,a]=(0,n.useState)(0),[i,c]=(0,n.useState)(""),d=(0,n.useContext)(l.g),[f,m]=d.tab,[g]=d.pageState,[x,v]=d.data,[k]=d.game,[N]=d.players,[C]=d.result,[S,_]=d.moveNumber,[L]=d.analyzeController,[M]=d.analyzingMove,E=d.animation[1],z=d.forward[1],[R,B]=d.customLine,[A]=d.returnedToNormalGame,[O,W]=d.depth,D=(0,n.useRef)(null);(0,n.useEffect)(()=>{switch("default"===g&&m("analyze"),"loading"===g&&m("analyze"),"analyze"===g&&m("summary"),g){case"default":case"loading":m("analyze");break;case"analyze":m("summary");break;case"analyzeCustom":m("moves")}},[g]),(0,n.useEffect)(()=>{"default"===g&&(e.username?m("selectGame"):m("analyze"))},[e]);let{format:H}=x;function I(){t({platform:"chessCom",username:""})}(0,n.useEffect)(()=>{"analyze"===g&&m("moves")},[S]),(0,n.useEffect)(()=>{c(function(e,t){let r,s;let[n,l]=e,o=(e,t,r)=>e[Math.floor(Math.random()*e.length)].replace(/__WINNER__/g,'<span class="font-extrabold" style="color: var(--foregroundBlackDark);">'+t+"</span>").replace(/__LOSER__/g,'<span class="font-extrabold" style="color: var(--foregroundBlackDark);">'+r+"</span>");switch(t){case"1-0":r=o(Y.win,n,l);break;case"0-1":r=o(Y.win,l,n);break;case"1/2-1/2":s=!!Math.floor(2*Math.random()),r=o(Y.draw,s?n:l,s?l:n);break;case"*":case"":s=!!Math.floor(2*Math.random()),r=o(Y.unknown,s?n:l,s?l:n)}return r}(N.map(e=>e.name),C))},[N,C]);let T=[{label:"Analize".concat("analyze"===g||"analyzeCustom"===g?" new":""," Game"),state:"analyze",icon:e=>(0,s.jsx)(o,{class:e,size:20}),show:!0,onClick:()=>{("analyze"===g||"analyzeCustom"===g)&&v({format:"fen",string:""}),"selectGame"===f&&I()}},{label:"Choose Game",state:"selectGame",icon:e=>(0,s.jsx)(y,{class:e,size:20}),show:"selectGame"===f,onClick:()=>{}},{label:"Summary",state:"summary",icon:e=>(0,s.jsx)(b,{class:e,size:20}),show:"analyze"===g,onClick:()=>{}},{label:"Moves",state:"moves",icon:e=>(0,s.jsx)(j,{class:e,size:20}),show:"analyze"===g||"analyzeCustom"===g,onClick:()=>{}}];return(0,s.jsxs)("div",{ref:D,className:"vertical:h-full w-full max-w-[500px] pb-8 vertical:pb-0 vertical:min-h-0 min-h-[600px] select-text bg-backgroundBox rounded-borderRoundness flex-grow vertical:max-w-[500px] vertical:min-w-[290px] flex flex-col gap-4 overflow-hidden",children:[(0,s.jsx)("menu",{className:"flex flex-row relative select-none",children:T.map((e,t)=>{if(!e.show)return;let r=f===e.state;return(0,s.jsxs)("button",{role:"tab",onClick:()=>{m(e.state),e.onClick()},className:"w-full flex flex-col gap-1 group items-center py-2 text-sm outline-none ".concat(r?"text-foreground":"bg-backgroundBoxBoxDisabled text-foregroundGrey cursor-pointer transition-colors hover:text-foregroundHighlighted"),children:[e.icon(r?"fill-foreground":"fill-foregroundGrey transition-colors group-hover:fill-foregroundHighlighted"),e.label]},t)})}),(0,s.jsxs)("div",{className:"overflow-y-auto h-full flex flex-col",children:["default"===g&&"analyze"===f?(0,s.jsx)(u,{setData:v,selectGame:(e,r)=>{t({platform:r,username:e})},depth:[O,W],selected:[r,a]}):"","default"===g&&"selectGame"===f&&"chessCom"===e.platform&&e.username?(0,s.jsx)(w.Ay,{stopSelecting:I,username:e.username,depth:O}):"","default"===g&&"selectGame"===f&&"lichessOrg"===e.platform&&e.username?(0,s.jsx)(Q,{stopSelecting:I,username:e.username,depth:O}):"","loading"===g&&"analyze"===f?(0,s.jsx)(h,{format:H,analyzeController:L}):"","analyze"===g&&"summary"===f?(0,s.jsx)(q,{setAnimation:E,setForward:z,setMoveNumber:_,moveNumber:S,players:N,moves:k,container:D.current}):"","analyze"===g&&"moves"===f?(0,s.jsx)(V,{container:D.current,moves:k,overallGameComment:i,moveNumber:S,setMoveNumber:_,analyzingMove:M,setAnimation:E,setForward:z,customLine:R,returnedToNormalGame:A}):"","analyzeCustom"===g&&"moves"===f?(0,s.jsx)(V,{container:D.current,moves:[k[0],...R.moves],overallGameComment:i,moveNumber:R.moveNumber+1,setMoveNumber:e=>B(t=>({...t,moveNumber:e-1})),analyzingMove:M,setAnimation:E,setForward:z,customLine:R,returnedToNormalGame:A}):""]}),"analyze"===g||"analyzeCustom"===g?(0,s.jsxs)("div",{className:"flex-col gap-1 pb-1 items-center hidden vertical:flex",children:[(0,s.jsx)("hr",{className:"border-neutral-600 w-[85%]"}),(0,s.jsx)(p,{})]}):""]})}},1425:(e,t,r)=>{"use strict";r.d(t,{Sf:()=>h,Bk:()=>u,eD:()=>p,Rh:()=>x,v:()=>f,ND:()=>g,Ay:()=>w,Ge:()=>m});var s=r(5155),n=r(2115),l=r(8596),o=r(2395),a=r(8951),i=r(3912);function c(e){let{className:t,size:r}=e;return(0,s.jsxs)("svg",{width:r,height:r,viewBox:"0 0 1024 1024",className:"icon "+t,version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M242.3 743.4h603.4c27.8 0 50.3-22.5 50.3-50.3V192H192v501.1c0 27.8 22.5 50.3 50.3 50.3z",fill:"#FFEA00"}),(0,s.jsx)("path",{d:"M178.3 807.4h603.4c27.8 0 50.3-22.5 50.3-50.3V256H128v501.1c0 27.8 22.5 50.3 50.3 50.3z",fill:"#FFFF8D"}),(0,s.jsx)("path",{d:"M960 515v384c0 35.3-28.7 64-64 64H128c-35.3 0-64-28.7-64-64V383.8c0-35.3 28.7-64 64-64h344.1c24.5 0 46.8 13.9 57.5 35.9l46.5 95.3H896c35.3 0 64 28.7 64 64z",fill:"#3D5AFE"}),(0,s.jsx)("path",{d:"M704 512c0-20.7-1.4-41.1-4.1-61H576.1l-46.5-95.3c-10.7-22-33.1-35.9-57.5-35.9H128c-35.3 0-64 28.7-64 64V899c0 6.7 1 13.2 3 19.3C124.4 945 188.5 960 256 960c247.4 0 448-200.6 448-448z",fill:"#536DFE"})]})}var d=r(6376);let u=["Error fetching games","Check your internet connection or try again later."],f=["User not found","Check your spelling or your internet connection."],h=["Server might block excesive requests","Slow down your request rate or wait before you try again."];function m(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}}function g(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function x(e){let[t,r]=(0,n.useState)(""),l=(0,n.useRef)(t);return(0,n.useEffect)(()=>{l.current=t},[t]),(0,n.useEffect)(()=>{let e=setInterval(function(){let e=l.current;e.length>=3?r(""):r(e+".")},300);return()=>clearInterval(e)},[]),(0,s.jsx)("div",{className:"flex flex-col flex-grow",children:(0,s.jsx)("div",{className:"flex-grow flex flex-col justify-center items-center",children:(0,s.jsxs)("div",{className:"w-[70%] bg-backgroundBox relative overflow-hidden rounded-borderExtraRoundness text-lg text-foregroundGrey flex flex-col gap-14 pb-4 pt-14 items-center",children:[(0,s.jsxs)("div",{className:"w-40 flex flex-col items-center gap-4",children:[(0,s.jsx)(c,{className:"animate-[pulse_1.25s_cubic-bezier(0.4,_0,_0.6,_1)_infinite;] scale-x-[-1]",size:60}),(0,s.jsx)("span",{className:"text-xl text-foreground font-bold",children:e.whatIsLoading}),(0,s.jsxs)("span",{className:"w-full ml-14",children:["Fetching api",t]})]}),(0,s.jsx)("button",{onClick:e.abort,className:"hover:text-foreground transition-colors",type:"button",children:"Cancel"})]})})})}function v(e){let[t,r]=(0,n.useState)(""),l=(0,n.useRef)(t);return(0,n.useEffect)(()=>{l.current=t},[t]),(0,n.useEffect)(()=>{let e=setInterval(function(){let e=l.current;e.length>=3?r(""):r(e+".")},300);return()=>clearInterval(e)},[]),(0,s.jsxs)("div",{className:"font-extrabold text-2xl animate-[pulse_1.25s_cubic-bezier(0.4,_0,_0.6,_1)_infinite;] w-48 my-4 m-auto",children:["Loading ",e.whatIsLoading,t]})}function p(e){let{gamesInfo:t,loading:r,username:n,setData:l}=e;return(0,s.jsxs)(s.Fragment,{children:[r?(0,s.jsx)(v,{whatIsLoading:"games"}):null,(0,s.jsx)("div",{className:"w-full overflow-auto max-h-[400px]",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{style:{display:r?"none":""},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-2 text-left pl-8",children:"Players"}),(0,s.jsx)("th",{className:"py-2 text-left pl-3 pr-4",children:"Result"}),(0,s.jsxs)("th",{className:"py-2 text-left pr-4 notFullDate:pr-8",children:[(0,s.jsx)("span",{className:"notFullDate:block hidden",children:"Date"}),(0,s.jsx)("span",{className:"notFullDate:hidden block",children:"Day"})]})]})}),(0,s.jsx)("tbody",{children:t.map((e,t)=>{let{pgn:r,whiteName:o,blackName:a,whiteElo:i,blackElo:c,result:d,timestamp:u,timeClass:f}=e,h="white"===d,x="black"===d,v=h&&o.toLowerCase()===n.toLowerCase()||x&&a.toLowerCase()===n.toLowerCase(),p=h&&o.toLowerCase()!==n.toLowerCase()||x&&a.toLowerCase()!==n.toLowerCase(),y=new Date(u);return(0,s.jsxs)("tr",{title:"Time Class: ".concat(g(f)),onClick:()=>l({format:"pgn",string:r}),className:"border-b-[1px] cursor-pointer select-none border-border transition-colors hover:bg-backgroundBoxHover",children:[(0,s.jsxs)("td",{className:"text-base flex flex-col py-4 w-60 overflow-hidden pl-8",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("div",{className:"h-4 min-h-4 w-4 min-w-4 bg-evaluationBarWhite rounded-borderRoundness ".concat(h?"border-[3px] border-winGreen":"")}),o," (",i,")"]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("div",{className:"h-4 w-4 bg-evaluationBarBlack rounded-borderRoundness ".concat(x?"border-[3px] border-winGreen":"")}),a," (",c,")"]})]}),(0,s.jsx)("td",{className:"py-2 pl-3 pr-4",children:(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex w-4 flex-col text-foregroundGrey font-bold text-base",children:[(0,s.jsx)("span",{children:h?1:x?0:(0,s.jsx)(s.Fragment,{children:"\xbd"})}),(0,s.jsx)("span",{children:x?1:h?0:(0,s.jsx)(s.Fragment,{children:"\xbd"})})]}),(0,s.jsx)("div",{style:{mixBlendMode:"screen"},className:"h-4 w-4 rounded-borderRoundness text-lg font-extrabold flex justify-center items-center text-black ".concat(v?"bg-winGreen":p?"bg-lossRed":"bg-foregroundGrey"),children:(0,s.jsx)("div",{className:"w-fit h-fit ml-px",children:v?"+":p?"-":"="})})]})}),(0,s.jsx)("td",{className:"py-4 pr-4 notFullDate:pr-8 text-nowrap text-sm",children:(0,s.jsxs)("div",{className:"flex flex-row items-baseline",children:[(0,s.jsxs)("span",{className:"hidden notFullDate:block",children:[m(y.getMonth()+1).slice(0,3)," "]}),(0,s.jsx)("span",{className:"font-bold text-lg ml-1",children:y.getDate()}),(0,s.jsxs)("span",{className:"hidden notFullDate:block",children:[", ",y.getFullYear()]})]})})]},t)})})]})})]})}function y(e){let{url:t,username:r,depth:l,unSelect:c}=e,[f,h]=(0,n.useState)([]),[m,g]=(0,n.useState)(!0),x=(0,n.useContext)(d.b),v=(0,n.useContext)(o.g),y=x.errors[1],w=v.data[1];return((0,n.useEffect)(()=>{(async()=>{try{g(!0);let e=await fetch(t);if(!e.ok)throw Error(String(e.status));let r=(await e.json()).games.toReversed().map(e=>{let t;let{pgn:r,black:s,white:n,end_time:l}=e,o=n.username,a=s.username,i=n.rating,c=s.rating;t="win"===n.result?"white":"win"===s.result?"black":"draw";let d=e.time_class;return{pgn:r,whiteName:o,blackName:a,whiteElo:i,blackElo:c,result:t,timestamp:1e3*l,timeClass:d}}).filter(e=>{try{new i.d$().loadPgn(e.pgn)}catch(e){return!1}return!0});g(!1),h(r)}catch(e){c(),await (0,a.s)(y,u[0],u[1])}})()},[]),0!==f.length||m)?(0,s.jsx)(p,{gamesInfo:f,username:r,depth:l,loading:m,setData:w}):(0,s.jsx)("div",{className:"text-center font-bold text-2xl my-4",children:"No games found in this month..."})}function w(e){let{username:t,depth:r,stopSelecting:o}=e,[i,c]=(0,n.useState)([]),[u,h]=(0,n.useState)(NaN),[g,v]=(0,n.useState)(NaN),[p,w]=(0,n.useState)(!0),b=(0,n.useContext)(d.b).errors[1],j=e=>{v(t=>t===e?NaN:e)};return(0,n.useEffect)(()=>{(async()=>{try{w(!0);let e=await fetch("https://api.chess.com/pub/player/".concat(t,"/games/archives"));if(!e.ok)throw Error(String(e.status));let r=(await e.json()).archives.toReversed().map(e=>{let[t,r]=e.split("/").slice(-2);return{year:t,month:r,url:e}});w(!1),c(r)}catch(e){o(),await (0,a.s)(b,f[0],f[0])}})()},[t]),(0,s.jsxs)("div",{className:"overflow-x-hidden overflow-y-auto ".concat(p?"flex flex-col justify-center flex-grow":""),children:[(0,s.jsxs)("h1",{style:{display:p?"none":""},className:"text-2xl py-4 px-8 sticky text-foreground",children:[(0,s.jsx)("a",{target:"_blank",href:"".concat("https://www.chess.com/member/").concat(t),className:"hover:underline text-backgroundBoxBoxHighlightedHover text-3xl font-bold",children:t}),"'s games"]}),(0,s.jsx)("hr",{style:{display:p?"none":""},className:"border-border"}),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[p?(0,s.jsx)(x,{whatIsLoading:"Archives",abort:o}):null,i.map((e,n)=>(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("button",{onClick:()=>j(n),onMouseEnter:()=>h(n),onMouseLeave:()=>h(NaN),type:"button",className:"".concat(u===n||g===n?"text-foregroundHighlighted":"text-foregroundGrey"," hover:bg-backgroundBoxHover w-full tracking-wide transition-colors text-2xl px-8 py-4 flex flex-row justify-between items-center"),children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("b",{children:e.year})," ",m(Number(e.month))]}),(0,s.jsx)("div",{style:{opacity:u===n||g===n?"100":"0",transform:"rotate(".concat(g!==n?"180deg":"0",")")},className:"transition-opacity",children:(0,s.jsx)(l.A,{class:"fill-foregroundHighlighted"})})]}),g===n?(0,s.jsx)(y,{url:e.url,username:t,depth:r,unSelect:()=>v(NaN)}):""]},n))]})]})}},1573:(e,t,r)=>{"use strict";r.d(t,{default:()=>E,L:()=>M});var s=r(5155),n=r(2115),l=r(7297);function o(e){let{white:t,colorMoving:r}=e,n=e.children;return(0,s.jsx)("div",{className:"flex text-nowrap justify-end vertical:pr-3 pr-[6px] vertical:text-2xl text-base font-bold items-center vertical:h-11 h-7 vertical:min-w-36 vertical:max-w-36 min-w-16 max-w-16 rounded-borderRoundness ".concat((t?"w"===r:"b"===r)?"":"opacity-50"," ").concat(t?"bg-backgroundWhiteClock":"bg-backgroundBlackClock"," ").concat(t?"text-backgroundBlackClock":"text-backgroundWhiteClock"),children:n})}var a=r(1836),i=r(3912),c=r(8266),d=r(2861);function u(e){let{color:t,size:r}=e;return(0,s.jsxs)("svg",{fill:t===i.UE?"#ffffff":"#000000",height:r,width:r,version:"1.1",id:"Capa_1",viewBox:"0 0 297 297",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs50"}),(0,s.jsx)("g",{id:"g45",transform:"matrix(1.0521627,0,0,1,-7.7461857,0)",children:(0,s.jsx)("path",{d:"m 223.333,247 h -5.926 c 2.607,-3.811 10.798,-18.024 -0.727,-32.248 C 203.346,198.292 176.817,149.004 189.356,116 h 0.977 c 4.418,0 7.667,-3.582 7.667,-8 v -1 c 0,-4.418 -3.249,-8 -7.667,-8 h -1.225 c 10.917,-10.466 17.725,-25.184 17.725,-41.5 0,-31.756 -25.744,-57.5 -57.5,-57.5 -31.756,0 -57.5,25.744 -57.5,57.5 0,16.316 6.808,31.034 17.725,41.5 h -2.225 C 102.915,99 99,102.582 99,107 v 1 c 0,4.418 3.915,8 8.333,8 h 1.979 c 12.539,33.004 -13.99,82.292 -27.324,98.752 C 70.464,228.976 78.654,243.189 81.261,247 H 74.333 C 69.915,247 66,250.582 66,255 v 18 c 0,4.418 3.915,8 8.333,8 H 75 v 16 h 148 v -16 c 5,0 8,-3.582 8,-8 v -18 c 0,-4.418 -3.249,-8 -7.667,-8 z",id:"path43"})})]})}function f(e){let{color:t,size:r}=e;return(0,s.jsxs)("svg",{fill:t===i.UE?"#ffffff":"#000000",height:r,width:r,id:"Capa_1",viewBox:"0 0 297.07998 297.07998",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs180"}),(0,s.jsx)("g",{id:"g175",transform:"matrix(1.4187094,0,0,1,-62.195062,0)",children:(0,s.jsx)("path",{d:"m 206.873,255.08 h -3.41 c 2.214,-3.337 8.32,-14.536 -0.712,-25.6 -8.9,-10.905 -25.137,-39.546 -24.448,-64.4 h 3.57 c 4.418,0 7.667,-3.582 7.667,-8 v -1 c 0,-4.418 -3.249,-8 -7.667,-8 h -4.333 v -4.285 c 13,-8.971 20.511,-23.502 20.511,-39.914 0,-10.332 -4.86477,-21.641941 -13.67277,-37.252941 l -18.553,18.595 C 162.71423,88.334059 155.497,83.866 152.385,80.756 l -0.921,-0.933 c -3.111,-3.11 -3.106,-8.202 0.005,-11.313 l 21.676,-21.674 c -4.444,-7.069 -8.869,-13.678 -12.703,-19.224 2.881,-2.93 4.663,-6.944 4.663,-11.379 C 165.106,7.268 157.841,0 148.874,0 139.907,0 132.64,7.268 132.64,16.233 c 0,4.434 1.781,8.448 4.662,11.379 -14.585,21.101 -37.94,57.587 -37.94,76.269 0,16.853 8.178,31.724 21.178,40.625 v 3.574 h -4.667 c -4.418,0 -8.333,3.582 -8.333,8 v 1 c 0,4.418 3.915,8 8.333,8 h 3.571 c 0.689,24.855 -15.547,53.495 -24.448,64.4 -9.031,11.064 -2.926,22.263 -0.712,25.6 h -3.411 c -4.418,0 -8.333,3.582 -8.333,8 v 9 c 0,4.078 3,7.438 7,7.931 v 17.069 h 118 v -17.069 c 4,-0.493 7,-3.853 7,-7.931 v -9 c 0,-4.418 -3.249,-8 -7.667,-8 z",id:"path173"})})]})}function h(e){let{color:t,size:r}=e;return(0,s.jsxs)("svg",{fill:t===i.UE?"#ffffff":"#000000",height:r,width:r,id:"Capa_1",viewBox:"0 0 298 298",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs180"}),(0,s.jsx)("g",{id:"g175",transform:"matrix(1.0952439,0,0,1,-14.191122,0)",children:(0,s.jsx)("path",{d:"m 210.952,116 c 14.912,0 27.037,-12.088 27.037,-27 0,-14.912 -10.945,-25.013 -26.964,-30.666 -11.333,-4 -18.018,-10.823 -23.009,-19.412 C 183.025,30.333 172.025,17 157.525,17 c -5.832,0 -19.798,0 -19.798,0 V 0 c -107,40.03 -72.369,184 -72.369,184 h 21.369 v 14 h -6.369 c -4.418,0 -8.631,3.582 -8.631,8 v 1 c 0,3.289 2.302,6.111 5.14,7.341 -8.77,15.05 -1.419,29.775 0.761,33.659 h -5.271 c -4.418,0 -8.631,3.582 -8.631,8 v 18 c 0,4.418 4,8 8,8 v 16 h 132 v -16.069 c 4,-0.493 7,-3.853 7,-7.931 v -18 c 0,-4.418 -2.951,-8 -7.369,-8 h -4.27 c 2.181,-3.884 8.902,-18.609 0.13,-33.659 2.838,-1.23 4.508,-4.052 4.508,-7.341 v -1 c 0,-4.418 -2.951,-8 -7.369,-8 h -7.631 v -14 h 24.132 c -16.501,-54 -66.334,-83 -66.334,-83 h 40.182 c 4.441,8.889 13.646,15 24.247,15 z",id:"path173"})})]})}function m(e){let{color:t,size:r}=e;return(0,s.jsxs)("svg",{fill:t===i.UE?"#ffffff":"#000000",height:r,width:r,version:"1.1",id:"Capa_1",viewBox:"0 0 298 298",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs65"}),(0,s.jsx)("g",{id:"g60",transform:"matrix(1.2646295,0,0,1,-39.429837,0)",children:(0,s.jsx)("path",{d:"m 216.923,246.538 c 3.457,-6.556 9.963,-22.777 -1.666,-39.137 C 200.508,186.65 179.942,125 193.61,83 H 207 V 0 H 191 V 17 H 175 V 0 H 157 V 17 H 141 V 0 H 124 V 17 H 108 V 0 H 91 v 83 h 14.057 c 13.668,42 -6.98,103.65 -21.73,124.401 -11.629,16.359 -5.373,32.706 -1.916,39.262 C 77.347,247.044 74,250.337 74,254.5 v 18 c 0,4.418 3.915,8.5 8.333,8.5 H 83 v 17 h 132 v -17 h 1.333 c 4.418,0 7.667,-4.082 7.667,-8.5 v -18 c 0,-4.162 -3.014,-7.58 -7.077,-7.962 z",id:"path58"})})]})}function g(e){let{color:t,size:r}=e;return(0,s.jsxs)("svg",{fill:t===i.UE?"#ffffff":"#000000",height:r,width:r,id:"Capa_1",viewBox:"0 0 297.77 297.77",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs180"}),(0,s.jsx)("g",{id:"g175",transform:"matrix(1.0408527,0,0,1,-6.0834003,0)",children:(0,s.jsx)("path",{d:"m 207.218,255.77 h -3.369 c 2.214,-3.337 8.32,-14.536 -0.712,-25.6 -8.9,-10.905 -25.129,-39.546 -24.438,-64.4 h 3.519 c 4.418,0 7.667,-3.582 7.667,-8 v -1 c 0,-4.418 -3.582,-8 -8,-8 4.418,0 8,-3.582 8,-8 v -1 c 0,-4.418 -3.249,-8 -7.667,-8 h -4.626 c -2.064,-21.741 1.078,-43.054 5.959,-54.666 1.86,-4.425 4.118,-7.79 6.296,-10.334 h 1.371 c 4.418,0 7.667,-3.582 7.667,-8 v -1 c 0,-4.418 -3.249,-8 -7.667,-8 h -9.8 C 179.615,38.874 172.42,29.804 162.663,25.387 164.446,22.78 165.492,19.63 165.492,16.233 165.492,7.267 158.227,0 149.26,0 c -8.967,0 -16.234,7.267 -16.234,16.232 0,3.385 1.037,6.525 2.809,9.127 -9.788,4.406 -17.01,13.49 -18.816,24.41 h -10.8 c -4.418,0 -8.333,3.582 -8.333,8 v 1 c 0,4.418 3.915,8 8.333,8 h 2.371 c 2.178,2.544 4.436,5.909 6.296,10.334 4.881,11.612 8.023,32.925 5.959,54.666 h -4.626 c -4.418,0 -8.333,3.582 -8.333,8 v 1 c 0,4.418 3.582,8 8,8 -4.418,0 -8,3.582 -8,8 v 1 c 0,4.418 3.915,8 8.333,8 h 3.602 c 0.692,24.854 -15.536,53.495 -24.438,64.4 -9.031,11.063 -2.926,22.263 -0.712,25.6 h -3.452 c -4.418,0 -8.333,3.582 -8.333,8 v 9 c 0,4.078 3,7.438 7,7.931 v 17.069 h 118 V 280.7 c 4,-0.493 7,-3.853 7,-7.931 v -9 c -0.001,-4.417 -3.25,-7.999 -7.668,-7.999 z",id:"path173"})})]})}function x(e){let{piece:t,color:r,size:n,dataset:l,className:o,style:a,draggable:c,title:x}=e,v=(0,d.x)(null!=l?l:{}),p={color:r,size:n};return(0,s.jsx)("div",{title:x,draggable:c,...v,className:o,style:a,children:(()=>{switch(t){case i.dD:return(0,s.jsx)(u,{...p});case i.wt:return(0,s.jsx)(f,{...p});case i.sR:return(0,s.jsx)(h,{...p});case i.wl:return(0,s.jsx)(m,{...p});case i.ps:return(0,s.jsx)(g,{...p})}})()})}let v=[i.dD,i.wt,i.sR,i.wl,i.ps];function p(e){return e>0?"+".concat(e):""}function y(e){let{white:t,pieces:r,advantage:n}=e,l=r.reduce((e,t)=>(e[t]=e[t]?e[t]+1:1,e),{});return(0,s.jsxs)("div",{className:"flex flex-row h-full items-end vertical:gap-2 gap-1",children:[(0,s.jsx)("div",{className:"w-fit h-full flex flex-row ml-[-3px]",children:Object.entries(l).sort((e,t)=>v.indexOf(e[0])-v.indexOf(t[0])).map((e,r)=>{let[n,l]=e,o="var(--border)",a=window.innerWidth<c.zM?8:15,d=window.innerWidth<c.zM?10:17,u=window.innerWidth<c.zM?12:19;return(0,s.jsx)("div",{className:"mb-[1px] flex flex-row items-end",children:Array.from({length:l}).map((e,r)=>(0,s.jsx)(x,{piece:n,color:t?i.UE:i.Uv,size:n===i.dD?a:n===i.wl||n===i.sR||n===i.wt?d:u,className:"".concat(n===i.dD?"mx-[2px]":n===i.wl||n===i.sR||n===i.wt?"mx-[1px]":""," ").concat(0!==r?"vertical:ml-[-10px] ml-[-7px]":""),draggable:!0,style:{filter:"drop-shadow(1px 0 0 ".concat(o,") drop-shadow(-1px 0 0 ").concat(o,") drop-shadow(0 1px 0 ").concat(o,") drop-shadow(0 -1px 0 ").concat(o,")")}},r))},r)})}),(0,s.jsx)("span",{className:"text-foregroundGrey h-fit font-light text-[8px] vertical:text-[17px]",children:t?p(n):p(-n)})]})}function w(e){let[t,r]=(0,n.useState)(40),{white:l,captured:o,materialAdvantage:i}=e,d=e.children;return(0,n.useEffect)(()=>{function e(){r(window.innerWidth<c.zM?24:40)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)("div",{className:"flex flex-row items-start vertical:text-sm text-[10px] font-bold text-foregroundHighlighted vertical:gap-2 gap-[6px] flex-grow overflow-x-auto overflow-y-hidden",children:[(0,s.jsx)("div",{className:"vertical:h-11 vertical:w-11 h-7 w-7 flex flex-row justify-center items-end ".concat(l?"bg-backgroundProfileWhite":"bg-backgroundProfileBlack"),children:(0,s.jsx)(a.A,{width:t,height:t,class:"".concat(l?"fill-foregroundProfileWhite":"fill-foregroundProfileBlack")})}),(0,s.jsxs)("div",{className:"flex flex-col justify-between h-7 vertical:h-11",children:[(0,s.jsx)("span",{className:"h-fit vertical:pb-[1px] vertical:pt-[2px] select-text text-nowrap",children:d}),(0,s.jsx)(y,{advantage:i,white:l,pieces:o})]})]})}function b(e){let t,r;let{height:n,white:l,advantage:o,whiteMoving:a}=e,i=Number(o[1])*(a?1:-1),c=(i- -400)*90/800+5;t="mate"===o[0]?o[1]?100*(i>=0):100*!a:Math.min(Math.max(c,5),95);let d=l?t>=50:t<=50;return r="mate"===o[0]?o[1]?"M"+Math.abs(i):a?"0-1":"1-0":(Math.abs(i)/100).toFixed(1),(0,s.jsxs)("div",{style:{height:n},className:"vertical:w-9 w-7 bg-evaluationBarBlack overflow-hidden flex flex-col relative ".concat(l?"justify-end":"justify-start"),children:[(0,s.jsx)("div",{style:{height:"".concat(t,"%"),transition:"height 1.5s",willChange:"height"},className:"w-full bg-evaluationBarWhite"}),(0,s.jsxs)("div",{className:"absolute h-full flex flex-col justify-between w-full vertical:py-2 py-1 vertical:text-xs text-[9px] font-bold",children:[(0,s.jsx)("div",{style:{opacity:100*!d},className:"text-center ".concat(l?"text-foreground":"text-background"),children:r}),(0,s.jsx)("div",{style:{opacity:100*!!d},className:"text-center ".concat(l?"text-background":"text-foreground"),children:r})]})]})}var j=r(2395),k=r(1692);function N(){let e=Uint8Array.of(0,97,115,109,1,0,0,0);if("object"!=typeof WebAssembly||"function"!=typeof WebAssembly.validate||!WebAssembly.validate(e)||"function"!=typeof SharedArrayBuffer||"object"!=typeof Atomics)return!1;let t=new WebAssembly.Memory({shared:!0,initial:8,maximum:16});if(!(t.buffer instanceof SharedArrayBuffer))return!1;try{window.postMessage(t,"*")}catch(e){return!1}try{t.grow(8)}catch(e){return!1}return!0}function C(){if("object"!=typeof WebAssembly||"function"!=typeof WebAssembly.validate)return!1;let e=Uint8Array.of(0,97,115,109,1,0,0,0);return WebAssembly.validate(e)}var S=r(8951),_=r(6376),L=r(5607);function M(e,t,r,s){let n=0===r.moveNumber?e[t]:r.moveNumber>0?r.moves[r.moveNumber-1]:e[t-1];return{previousMove:n,move:r.moveNumber>=0?r.moves[r.moveNumber]:e[t],nextMove:r.moveNumber>=0?r.moves[r.moveNumber+1]:s?{...e[t],movement:s}:e[t+1]}}function E(){var e,t,r,a,d,u,f,h;let[m,g]=(0,n.useState)(750),[x,v]=(0,n.useState)(850),[p,y]=(0,n.useState)({white:[],black:[]}),[E,z]=(0,n.useState)({0:[]}),[R,B]=(0,n.useState)(10),[A,O]=(0,n.useState)({}),[W,D]=(0,n.useState)({is:!1,id:""}),H=(0,n.useContext)(j.g),I=(0,n.useContext)(_.b),T=(0,n.useContext)(L.Q),[G,F]=H.players,[P,V]=H.time,[U,J]=H.moveNumber,[q,Y]=H.game,[Z]=H.data,[X,$]=H.pageState,[Q,K]=H.forward,[ee,et]=H.animation,[er,es]=H.white,[en,el]=H.playing,[eo]=H.materialAdvantage,[ea,ei]=H.result,ec=H.progress[1],[ed,eu]=H.tab,[ef,eh]=H.analyzeController,[em,eg]=H.customLine,[ex]=H.returnedToNormalGame,[ev,ep]=H.analyzingMove,[ey]=H.depth,ew=H.materialAdvantage[1],eb=H.gameController,ej=I.errors[1],[ek]=T.boardSounds,eN=(0,n.useRef)(null),eC=(0,n.useRef)(null),eS=(0,n.useRef)(),e_=(0,n.useRef)(ed),eL=(0,n.useRef)(W),eM=(0,n.useRef)(null),eE=(0,n.useRef)(ev),{previousMove:ez,move:eR,nextMove:eB}=M(q,U,em,ex),eA=em.moveNumber<0?ea:function(e){if(!e)return"";let t=new i.d$(e.fen),r=e.color;return t.isCheckmate()?r===i.UE?"0-1":"1-0":t.isDraw()?"1/2-1/2":""}(eR);async function eO(e,t){if($("loading"),!e){(0,S.s)(ej,"Error reading PGN","Please, provide a valid PGN."),$("default");return}N()||C()||(0,S.a)(ej,"WebAssembly not supported","The app may run very slow. Try updating your browser for better performance.");let r=eM.current;if(r){try{let{metadata:s,moves:n}=await (0,k.VG)(r,e,t,A,ec,ef.signal);V(s.time),F(s.players),Y(n),ei(s.result),et(!1),z(function(e){let t={};return Array.from({length:e}).forEach((e,r)=>{t[r]=[]}),t}(n.length)),eg({moveNumber:-1,moves:[],arrows:{}}),ep(!1),ek&&setTimeout(()=>l.Ky.play(),100),$("analyze")}catch(e){switch(e.message){case"pgn":(0,S.s)(ej,"Error reading PGN","Please, provide a valid PGN.");break;case"canceled":eh(new AbortController)}$("default")}ec(0),J(0)}}async function eW(e){let t;try{t=await new Promise(async(t,r)=>{let s;if($("loading"),V(0),F([{name:"White",elo:"?"},{name:"Black",elo:"?"}]),es(!0),el(!1),J(0),ei(""),ec(0),eg({moveNumber:-1,moves:[],arrows:{}}),ep(!1),z({0:[]}),!e){let e=new i.d$,t=e.fen(),r=e.move({from:"e2",to:"e4"}),s={fen:t,color:e.turn(),bestMove:[(0,k.t4)(r.from),(0,k.t4)(r.to)],bestMoveSan:r.san,previousStaticEvals:[["cp","-30"]]};Y([s]),$("default");return}let n=eM.current;if(!n)return;try{s=new i.d$(e)}catch(e){r(Error("fen"));return}let l=ef.signal,o=await (0,k.rk)(n,s,ey,l,function e(){r(Error("canceled")),l.removeEventListener("abort",e)});t(o)})}catch(e){switch(e.message){case"fen":(0,S.s)(ej,"Error reading FEN","Please, provide a valid FEN.");break;case"canceled":eh(new AbortController)}$("default");return}Y([t]),$("analyzeCustom")}function eD(e){return 8*Math.round(e/8)}async function eH(e,t,r,s,n,l){let o=new i.d$(e).move(t),a={fen:o.after,movement:[(0,k.t4)(t.from),(0,k.t4)(t.to)],color:(0,k.u8)(o.color),capture:o.captured,castle:(0,k.b4)(o.san),san:o.san};et(n),K(!0),eg(e=>({moveNumber:e.moveNumber+1,moves:[...e.moves.slice(0,e.moveNumber+1),a],arrows:function(e,t){let r={};for(let s=0;s<=t;s++)e[s]?r[s]=e[s]:r[s]=[];return r}(e.arrows,e.moveNumber+1)})),ep(!0),"fen"===Z.format&&$("analyzeCustom");let c=await new Promise(async(n,o)=>{let a=ef.signal,c=eM.current;if(!c)return;let d=new i.d$(e),u=d.move(t);n(await (0,k.nT)(c,ey,u,d,s,l,r,A,function e(){o(Error("canceled")),a.removeEventListener("abort",e)},a))});et(!1),ep(!1),eg(e=>({...e,moveNumber:e.moveNumber,moves:[...e.moves.slice(0,e.moveNumber),c]}))}function eI(e){let t=e=>String(e).padStart(2,"0"),[r,s]=[Math.floor(e/60),e%60];if(r){let e=Math.ceil(r/60);if(e>2){let t=Math.ceil(e/24);return t>2?"".concat(t," days"):"".concat(e," ").concat(e>1?"hours":"hour")}return"".concat(t(r),":").concat(t(s))}return s?"".concat(t(r),":").concat(t(s)):"--:--"}return(0,n.useEffect)(()=>{eE.current=ev},[ev]),(0,n.useEffect)(()=>{eL.current=W},[W]),(0,n.useEffect)(()=>{(async()=>{let e=await fetch("".concat("/Brilliant-Chess","/openings/openings.json"));O(await e.json())})()},[]),(0,n.useEffect)(()=>{var e;N()?eM.current=new window.Worker("".concat("/Brilliant-Chess","/engine/stockfish.js")):C()?eM.current=new window.Worker("".concat("/Brilliant-Chess","/engine/stockfish-single.js")):((0,S.a)(ej,"WebAssembly not supported","The app may run very slow. Try updating your browser for better performance."),eM.current=new window.Worker("".concat("/Brilliant-Chess","/engine/stockfish-asm.js")));let t=eM.current,r=null!==(e=navigator.hardwareConcurrency)&&void 0!==e?e:1,s=Math.floor(function(){let e=navigator.userAgent;return/android/i.test(e)?1024:/iphone|ipad|ipod/i.test(e)?2048:/windows|mac|linux/i.test(e)?4096:/cros/i.test(e)?2048:/kaios/i.test(e)||/blackberry|bb10/i.test(e)?512:/tizen/i.test(e)?1024:512}()/4),n=setTimeout(()=>(0,S.s)(ej,"The browser is having some troubles loading Stockfish","If the app doesn't work properly try restarting the browser."),15e3);return(async()=>{await (0,k.Ih)(t,r,s),clearTimeout(n)})(),()=>clearTimeout(n)},[]),(0,n.useEffect)(()=>{et(!1)},[U,em.moveNumber]),(0,n.useEffect)(()=>{e_.current=ed},[ed]),(0,n.useEffect)(()=>{if(clearInterval(eS.current),en){function e(){eb.forward()}e(),eS.current=setInterval(e,1e3)}else clearInterval(eS.current);return()=>clearInterval(eS.current)},[en]),(0,n.useEffect)(()=>{let e=0;function t(t){var r;let s=t.target;if("INPUT"===s.tagName&&["text","number","password","email","search","tel","url"].includes(null!==(r=s.getAttribute("type"))&&void 0!==r?r:"")||"TEXTAREA"===s.tagName)return;let n=new Date().getTime();switch(t.key){case"ArrowLeft":if(t.preventDefault(),eL.current.is||n-e<25||eE.current)return;eb.back(),e=new Date().getTime();break;case"ArrowRight":if(t.preventDefault(),eL.current.is||n-e<25||eE.current)return;eb.forward(),e=new Date().getTime();break;case"ArrowUp":if(t.preventDefault(),eL.current.is||n-e<25||eE.current)return;eb.first(),e=new Date().getTime();break;case"ArrowDown":if(t.preventDefault(),eL.current.is||n-e<25||eE.current)return;eb.last(),e=new Date().getTime();break;case" ":if(t.preventDefault(),eL.current.is||n-e<25||eE.current)return;eb.togglePlay(),e=new Date().getTime();break;case"Tab":if(t.preventDefault(),n-e<25)return;let l=e_.current;"analyze"===X&&("summary"===l?eu("moves"):"moves"===l&&eu("summary"))}}return document.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),(0,n.useEffect)(()=>{let{format:e,string:t}=Z;switch(e){case"pgn":eO(t,ey);break;case"fen":eW(t)}},[Z]),(0,n.useEffect)(()=>{function e(){var e,t,r,s;let n=window.innerWidth<c.zM?6:10;B(n);let l=eN.current,o=null==l?void 0:l.getElementsByTagName("div")[0],a=null!==(t=null==l?void 0:l.offsetHeight)&&void 0!==t?t:0,i=null!==(r=null==o?void 0:o.offsetHeight)&&void 0!==r?r:0,d=null!==(s=null===(e=document.getElementsByTagName("nav")[0])||void 0===e?void 0:e.offsetWidth)&&void 0!==s?s:0;if(window.innerWidth<c.zM){let e=eD(window.innerHeight-(2*i+2*n+16));g(e),v(e+2*i+2*n);return}let u=window.innerWidth-(d+16+36+n+8+17+8+290+16+144+16),f=eD(Math.min(a-(2*i+2*n),u));g(f),v(f+2*i+2*n)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.useEffect)(()=>{let e={white:[],black:[]};for(let t=0;t<=U&&t<q.length;t++){let r=q[t];r.capture&&e["w"===r.color?"black":"white"].push(r.capture)}for(let t=0;t<=em.moveNumber;t++){let r=em.moves[t];r.capture&&e["w"===r.color?"black":"white"].push(r.capture)}y(e)},[U,em.moveNumber]),(0,s.jsxs)("div",{ref:eC,tabIndex:0,style:{gap:R},className:"h-full flex flex-row outline-none",children:[(0,s.jsx)("div",{style:{height:x},className:"flex items-center",children:(0,s.jsx)(b,{height:m,white:er,advantage:ev?null!==(d=null==ez?void 0:null===(e=ez.previousStaticEvals)||void 0===e?void 0:e[0])&&void 0!==d?d:["cp","0"]:null!==(u=null==eR?void 0:null===(t=eR.previousStaticEvals)||void 0===t?void 0:t[0])&&void 0!==u?u:["cp","0"],whiteMoving:(ev?null!==(f=null==ez?void 0:ez.color)&&void 0!==f?f:i.UE:null!==(h=null==eR?void 0:eR.color)&&void 0!==h?h:i.UE)===i.UE})}),(0,s.jsxs)("div",{ref:eN,style:{gap:R},className:"h-full flex flex-col justify-start",children:[(0,s.jsxs)("div",{style:{width:m},className:"flex flex-row justify-between",children:[(0,s.jsx)(w,{materialAdvantage:eo,captured:p[er?"black":"white"],white:!er,children:"".concat(G[+!!er].name," ").concat("NOELO"!==G[+!!er].elo?"(".concat(G[+!!er].elo,")"):"")}),(0,s.jsx)(o,{white:!er,colorMoving:null===(r=q[U])||void 0===r?void 0:r.color,children:eI(P)})]}),(0,s.jsx)(l.Ay,{setPlaying:el,cleanArrows:function(){em.moveNumber<0?z(e=>({...e,[U]:[]})):eg(e=>({...e,arrows:{...e.arrows,[e.moveNumber]:[]}}))},arrows:em.moveNumber<0?E[U]:em.arrows[em.moveNumber],sacrifice:null==eR?void 0:eR.sacrifice,controller:eb,forward:Q,moveRating:null==eR?void 0:eR.moveRating,bestMove:null==eR?void 0:eR.bestMove,previousBestMove:null==ez?void 0:ez.bestMove,move:null==eR?void 0:eR.movement,nextMove:null==eB?void 0:eB.movement,fen:null==eR?void 0:eR.fen,nextFen:null==eB?void 0:eB.fen,boardSize:m,white:er,animation:ee,gameEnded:U===q.length-1&&em.moveNumber<0||em.moveNumber>=0&&!!eA,capture:null==eR?void 0:eR.capture,nextCapture:null==eB?void 0:eB.capture,castle:null==eR?void 0:eR.castle,nextCastle:null==eB?void 0:eB.castle,setAnimation:et,result:eA,pushArrow:function(e){if(em.moveNumber<0){let t=E[U].findIndex(t=>JSON.stringify(t)===JSON.stringify(e)),r=-1!==t,s=[...E[U]];r?s.splice(t,1):s.push(e),z(e=>({...e,[U]:s}))}else{let t=em.arrows[em.moveNumber].findIndex(t=>JSON.stringify(t)===JSON.stringify(e)),r=-1!==t,s=[...em.arrows[em.moveNumber]];r?s.splice(t,1):s.push(e),eg(e=>({...e,arrows:{...e.arrows,[em.moveNumber]:s}}))}},analyzeMove:eH,previousStaticEvals:null==eR?void 0:eR.previousStaticEvals,analyzingMove:ev,setMaterialAdvantage:ew,drag:W,setDrag:D,bestMoveSan:null==eR?void 0:eR.bestMoveSan}),(0,s.jsxs)("div",{style:{width:m},className:"flex flex-row justify-between",children:[(0,s.jsx)(w,{materialAdvantage:eo,captured:p[er?"white":"black"],white:er,children:"".concat(G[+!er].name," ").concat("NOELO"!==G[+!er].elo?"(".concat(G[+!er].elo,")"):"")}),(0,s.jsx)(o,{white:er,colorMoving:null===(a=q[U])||void 0===a?void 0:a.color,children:eI(P)})]})]})]})}},1692:(e,t,r)=>{"use strict";r.d(t,{Ih:()=>o,VG:()=>p,Yo:()=>d,b4:()=>g,nT:()=>x,rk:()=>v,t4:()=>c,u8:()=>a});var s=r(3912);let n={brilliant:["You found a brilliant way to sacrifice a piece.","This sacrifice showcases a deep understanding of the position.","A bold and exceptional sacrifice to gain a strategic edge."],great:["You capitalized on your opponent's mistake effectively.","This move takes full advantage of your opponent's error.","A strong response to punish your opponent's oversight."],best:["This has been the best move in this position.","This was the most optimal move you could play here.","The most precise and effective move for this scenario."],excellent:["This was not the absolute best move, but it is just as strong.","An excellent move that fits the demands of the position perfectly. It is not the best though.","A top-tier choice, even if not the single best move."],good:["This is not among the best moves, but it is still acceptable.","An acceptable move, but there were better options.","This move works, but it misses stronger alternatives."],inaccuracy:["This move causes you to lose some advantage.","This move weakens your overall position.","An avoidable slip that leads to a worse situation."],blunder:["This move loses significant advantage.","This move significantly worsens your position.","This move severely harms your position."],mate:["Delivering checkmate is always a satisfying move.","Checkmating your opponent is the ultimate goal.","A decisive and final move to end the game."],mateIn:["This is the right move to force an eventual checkmate.","A precise move that guarantees a checkmate in the near future.","This move sets up an unstoppable sequence to deliver checkmate."],delayMate:["This move delays a checkmate, but your opponent is still being checkmated.","You slowed down the checkmate sequence, but it's still guaranteed.","A move that postpones the unavoidable checkmate you are delivering."],advanceMate:["This decision shortens the path to your opponent's victory.","You hastened the process of being checkmated with this move.","This move brings your opponent closer to delivering checkmate."],loseAdvantage:["This move causes you to lose the advantage you had.","A costly error that sacrifices your winning edge.","This move shifts the position from advantageous to equal or worse."],giveAdvantage:["This move turns an equal position into a losing one.","A mistake that hands the advantage to your opponent.","This move creates a clear advantage for your opponent."],gettingMated:["This move leads to an eventual forced checkmate by your opponent.","A fatal error that guarantees your opponent will checkmate you.","This move sets up an inevitable checkmate against you."],missMate:["You missed an opportunity to force a checkmate, allowing your opponent to escape.","A chance to secure a decisive checkmate was overlooked with this move.","This move lets your opponent avoid a checkmate you could have forced."],missAdvantage:["You missed an opportunity to gain an advantage.","A key chance to improve your position was lost.","This move overlooks a way to strengthen your position."],forced:["There were no alternatives; this was the only possible move.","You had no choice but to play this move.","The situation left you with just one legal option, and this was it."]};async function l(e,t){let r=t;function s(){let t=r-50;e.postMessage("setoption name Hash value ".concat(t)),(r=t)-50<0&&e.removeEventListener("error",s)}setTimeout(()=>{e.removeEventListener("error",s)},2e3),e.addEventListener("error",s),e.postMessage("setoption name Hash value ".concat(t))}async function o(e,t,r){await h(e),e.postMessage("uci"),e.postMessage("setoption name Threads value ".concat(t)),await l(e,r)}function a(e){return"w"===e?"b":"w"}function i(e){return Math.floor(Math.random()*e)}function c(e){return{col:"abcdefgh".split("").indexOf(e[0]),row:Number(e[1])-1}}function d(e){return"".concat("abcdefgh".split("")[e.col]).concat(e.row+1)}async function u(e,t,r){let s;return e.postMessage("go depth ".concat(t)),new Promise((t,n)=>{function l(){e.removeEventListener("message",o),null==r||r.removeEventListener("abort",a)}function o(e){var r;let n=e.data,{movement:o,coronation:a}=function(e){let t=e.split("\n").filter(e=>e.startsWith("bestmove"))[0],r=null==t?void 0:t.split(/\s+/)[1];return"(none)"===r?{}:{movement:r?[r.slice(0,2),r.slice(2,4)].map(e=>{let{col:t,row:r}=c(e);return{col:t,row:r}}):void 0,coronation:r?r[4]:void 0}}(n);s=null!==(r=function(e){let t=e.split("\n").filter(e=>e.startsWith("info")).pop(),r=null==t?void 0:t.split(/\s+/);return null==r?void 0:r.slice((null==r?void 0:r.indexOf("score"))+1,r.indexOf("nodes"))}(n))&&void 0!==r?r:s,o&&(l(),t({bestMove:o,coronation:a,staticEval:s}))}function a(){l(),n(Error("canceled"))}r.addEventListener("abort",a),e.addEventListener("message",o)})}async function f(e,t,r,s){e.postMessage("position fen ".concat(t));try{let{bestMove:t,staticEval:n,coronation:l}=await u(e,r,s);return{bestMove:t,staticEval:n,bestMoveCoronation:l}}catch(e){throw Error("cancelled")}}async function h(e,t){return new Promise((r,s)=>{function n(){e.removeEventListener("message",l),null==t||t.removeEventListener("abort",o)}function l(e){"readyok"===e.data&&(n(),r(!0))}function o(){n(),s(Error("canceled"))}null==t||t.addEventListener("abort",o),e.addEventListener("message",l),e.postMessage("isready")})}function m(e,t,r){if(!e.length)return"";try{return new s.d$(r).move({from:d(e[0]),to:d(e[1]),promotion:t}).san}catch(e){return""}}function g(e){return"O-O"===e?"k":"O-O-O"===e?"q":void 0}async function x(e,t,r,l,o,d,u,h,x,v){let p,y,w,b,j;v.aborted&&x();let k=[r.from,r.to].map(e=>{let{col:t,row:r}=c(e);return{col:t,row:r}}),N=r.after;l.load(N);let C=a(r.color),S=r.captured,_=r.san,L=g(r.san);if(l.isCheckmate())p=!1,y=["mate"],w=void 0,b=!1,j=void 0;else{p=!r.promotion&&function(e){var t,r,n,l,o,i,c,d;let u=new s.d$(e.after),f=new s.d$(e.before),h=[];for(let o of u.board())for(let i of o){if(!i||i.type===s.dD||i.color!==e.color)continue;let{attackers:o,defenders:c}=function(e,t,r){let n,l,o;let i=e.attackers(r,a(t)),c=i.filter(t=>-1!==e.moves({verbose:!0}).findIndex(e=>e.from===t&&e.to===r)),d=c.map(t=>e.get(t));if(1===i.length){let n=new s.d$(e.fen());try{n.move({from:i[0],to:r})}catch(e){}o=(l=n.attackers(r,t).filter(e=>-1!==n.moves({verbose:!0}).findIndex(t=>t.from===e&&t.to===r))).map(t=>e.get(t))}else o=(l=e.attackers(r,t).filter(t=>{for(let n of c){let l=new s.d$(e.fen());try{l.move({from:n,to:r})}catch(e){}if(-1===l.moves({verbose:!0}).findIndex(e=>e.from===t&&e.to===r))return!1}return!0})).map(t=>e.get(t));return{attackers:{squares:c,pieces:d,length:c.length},defenders:{squares:l,pieces:o,length:l.length}}}(u,e.color,i.square);if(!c.length&&o.length&&(!e.captured||e.captured===s.dD)||(i.type===s.sR||i.type===s.wt)&&!e.captured&&-1!==o.pieces.findIndex(e=>(null==e?void 0:e.type)===s.dD)||i.type===s.wl&&o.length&&e.captured!==s.wl&&e.captured!==s.ps&&!(1===o.length&&((null===(t=o.pieces[0])||void 0===t?void 0:t.type)===s.ps||(null===(r=o.pieces[0])||void 0===r?void 0:r.type)===s.wl)&&c.length)&&!(c.length&&(e.captured===s.sR||e.captured===s.wt))||i.type===s.ps&&o.length&&e.captured!==s.ps&&!(1===o.length&&(null===(n=o.pieces[0])||void 0===n?void 0:n.type)===s.ps&&c.length)&&!(1===o.length&&(null===(l=o.pieces[0])||void 0===l?void 0:l.type)===s.wl&&e.captured===s.wl&&c.length)){h.push(i);continue}}for(let t of h){let r=(null===(o=f.get(t.square))||void 0===o?void 0:o.color)===(null===(i=u.get(t.square))||void 0===i?void 0:i.color)&&(null===(c=f.get(t.square))||void 0===c?void 0:c.type)===(null===(d=u.get(t.square))||void 0===d?void 0:d.type)?t.square:e.from;if(function(e,t,r){if(e.attackers(t,r).length){for(let n of e.moves({verbose:!0,square:t}))if(!new s.d$(n.after).attackers(n.to,r).length)return!0}else for(let r of e.moves({verbose:!0}))if(r.from!==t)return!0;return!1}(f,r,a(e.color)))return!0}return!1}(r);try{({staticEval:y,bestMove:w,bestMoveCoronation:j}=await f(e,r.after,t,v))}catch(e){x(),w=void 0,y=[],j=void 0}v.aborted&&x(),b=1===new s.d$(r.before).moves().length}let{moveRating:M,comment:E}=b?{moveRating:"forced",comment:n.forced[i(3)]}:function(e,t,r,l,o,c,d,u,f){var h;void 0===t[0]&&(t[0]=[]),void 0===t[1]&&(t[1]=[]),void 0===t[2]&&(t[2]=[]),void 0===t[3]&&(t[3]=[]);let m=0>Number(e[1]),g=Number(t[0][1])>0,x=a(c),v=i(3);function p(e){let t="excellent";return e>=.4&&(t="good"),e>=.8&&(t="inaccuracy"),e>=4&&(t="blunder"),t}function y(e,t,r){return"w"===r?t>=2&&e<2:t<=-2&&e>-2}function w(e,t,r){return"w"===r?t>=-2&&e<-2:t<=2&&e>2}function b(e,t,r){return"w"===r?e<t:e>t}function j(e){return Number(t[e][1])/100*(c===(e%2==0?"b":"w")?-1:1)}let k=Number(e[1])/100*("w"===c?-1:1);function N(e){return"mate"!==t[e][0]&&"mate"!==t[e+1][0]}let C="mate"!==e[0]&&"mate"!==t[0][0],S=f[o];if(S)return{moveRating:"book",comment:S};function _(e){return p(L(e))}function L(e){return c===(e%2==0?"b":"w")?j(e+1)-j(e):j(e)-j(e+1)}let M="w"===c?j(0)-k:k-j(0),E=p(M),z=N(0)&&N(1)&&"inaccuracy"===_(0)&&L(0)>=1.2&&(y(j(0),j(1),x)||w(j(0),j(1),x)),R=N(1)&&N(2)&&"inaccuracy"===_(1)&&L(1)>=1.2&&(y(j(1),j(2),c)||w(j(1),j(2),c)),B=N(0)&&(R||"blunder"===_(1))&&("blunder"===_(0)||"inaccuracy"===_(0))&&L(0)<=L(1)+.5;if(!(N(0)&&u&&"excellent"===_(0))&&C&&"excellent"===E&&d&&("inaccuracy"===_(0)||"blunder"===_(0)||"inaccuracy"!==_(1)&&"blunder"!==_(1)&&("inaccuracy"===_(2)||"blunder"===_(2)))||d&&"mate"!==t[0][0]&&"mate"===e[0]&&m||d&&"mate"===t[0][0]&&"mate"===e[0]&&b(k,j(0),c)&&m)return{moveRating:"brilliant",comment:n.brilliant[v]};if(!B&&N(0)&&C&&"excellent"===E&&(z||"blunder"===_(0)))return{moveRating:"great",comment:n.great[v]};let A=r===l;return A&&"mate"===e[0]&&!e[1]?{moveRating:"best",comment:n.mate[v]}:A?{moveRating:"best",comment:n.best[v]}:"mate"!==e[0]||e[1]?"mate"!==t[0][0]&&"mate"===e[0]&&m||"mate"===t[0][0]&&"mate"===e[0]&&b(k,j(0),c)&&m?{moveRating:"excellent",comment:n.mateIn[v]}:"mate"===t[0][0]&&"mate"===e[0]&&!b(k,j(0),c)&&m?{moveRating:"good",comment:n.delayMate[v]}:"mate"===t[0][0]&&"mate"===e[0]&&(h=j(0),"w"===c?k>h:k<h)&&!m?{moveRating:"good",comment:n.advanceMate[v]}:"mate"===t[0][0]&&"mate"!==e[0]&&g?{moveRating:"miss",comment:n.missMate[v]}:!B&&C&&(z||"blunder"===_(0))&&("blunder"===E||"inaccuracy"===E)&&M<=L(0)+.5?{moveRating:"miss",comment:n.missAdvantage[v]}:C&&"inaccuracy"===E&&M>=1.2&&y(k,j(0),c)?{moveRating:"mistake",comment:n.loseAdvantage[v]}:C&&"inaccuracy"===E&&M>=1.2&&w(k,j(0),c)?{moveRating:"mistake",comment:n.giveAdvantage[v]}:"mate"!==t[0][0]&&"mate"===e[0]&&!m&&(c===s.UE?-2>=j(0):j(0)>=2)?{moveRating:"mistake",comment:n.gettingMated[v]}:("mate"===t[0][0]||"mate"!==e[0]||m)&&("mate"!==t[0][0]||"mate"!==e[0]||m||!g)?{moveRating:E,comment:n[E][v]}:{moveRating:"blunder",comment:n.gettingMated[v]}:{moveRating:"excellent",comment:n.mate[v]}}(y,o,null!=d?d:"",r.san,r.after,r.color,p,u,h);l.isGameOver()&&(w=void 0);let z=w?m(w,j,N):void 0;return{color:C,capture:S,san:_,castle:L,moveRating:M,comment:E,bestMove:w,bestMoveSan:z,fen:N,sacrifice:p,movement:k,previousStaticEvals:[y,...o]}}async function v(e,t,r,s,n){let l;let o=t.fen(),a=t.turn();try{l=await f(e,o,r,s)}catch(e){n(),l={bestMove:[],staticEval:[]}}s.aborted&&n();let{bestMove:i,staticEval:c,bestMoveCoronation:d}=l,u=m(i,d,o);return{fen:o,bestMove:i,bestMoveSan:u,color:a,previousStaticEvals:[c]}}function p(e,t,r,n,l,o){return new Promise(async(a,i)=>{var c,d;function u(){i(Error("canceled")),o.removeEventListener("abort",u),l(0)}o.addEventListener("abort",u);let f=new s.d$,m=t.replace(/^%.*/gm,"");try{f.loadPgn(m)}catch(e){i(Error("pgn"))}let g=f.header(),p=function(e){var t,r,s,n;let l="Unknown",o="NOELO",a=null!==(t=e.White)&&void 0!==t?t:l,i=null!==(r=e.Black)&&void 0!==r?r:l;return[{name:a,elo:null!==(s=e.WhiteElo)&&void 0!==s?s:o},{name:i,elo:null!==(n=e.BlackElo)&&void 0!==n?n:o}]}(g),y=Number(null!==(c=g.TimeControl)&&void 0!==c?c:"0"),w=g.Result?g.Result:null!==(d=m.split(" ").pop())&&void 0!==d?d:"",b=f.history({verbose:!0}),j=b.length,k=0,N=[];e.postMessage("stop"),e.postMessage("ucinewgame");try{await h(e,o)}catch(e){u()}o.aborted&&u();let C=0,S,_=!1,L=[];for(let t of b){if(0===C){f.load(t.before);let{fen:s,bestMove:n,bestMoveSan:l,color:a,sacrifice:i,previousStaticEvals:c}=await v(e,f,r,o,u);if(!c)return;N.push({fen:s,bestMove:n,bestMoveSan:l,color:a,sacrifice:i,previousStaticEvals:c}),L=c,_=!1,S=l}let{fen:s,movement:a,bestMove:i,moveRating:c,comment:d,color:h,capture:m,castle:g,san:p,bestMoveSan:y,sacrifice:w,previousStaticEvals:b}=await x(e,r,t,f,L,S,_,n,u,o);N.push({fen:s,movement:a,bestMove:i,moveRating:c,comment:d,color:h,capture:m,castle:g,san:p,bestMoveSan:y,sacrifice:w,previousStaticEvals:b}),b&&void 0!==w&&(L=b,S=y,C++,_=w,l(++k/j*100))}a({metadata:{players:p,time:y,result:w},moves:N})})}},1836:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155);function n(e){return(0,s.jsx)("svg",{className:"scale-x-[1.15]",height:e.height,width:e.width,version:"1.1",id:"_x32_",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{className:e.class,d:"M359.51,367.614c-19.106-7.148-40.877-18.276-40.877-32.676c0-9.533,0-21.444,0-37.782        c6.996-19.393,17.51-20.781,22.768-50.546c12.254-4.379,19.258-11.384,28.009-42.026c6.574-23.064-3.112-29.254-9.382-30.905        c0.128-1.229,0.256-2.466,0.359-3.917c2.369-34.543,22.425-137.078-47.012-149.332c-18.38-14.296-30.043-20.774-69.437-18.38        C219.001,2.042,200.046,7.547,173.632,0c-35.245,29.565-25.561,126.66-20.63,173.504c-6.199,1.388-16.889,7.148-10.052,31.08        c8.744,30.641,15.748,37.646,28.001,42.026c5.258,29.765,21.252,39.322,22.417,50.546c0,16.338,0,28.248,0,37.782        c0,14.4-23.494,26.55-40.877,32.676C119.058,379.397,25.911,414.275,34.073,512h443.856        C486.09,414.275,392.712,380.035,359.51,367.614z"})})})}},2085:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,J:()=>o});var s=r(5155),n=r(5607),l=r(2115);let o=[{label:"Green",black:"#779556",white:"#ebecd0",highlight:"#ffff33"},{label:"Brown",black:"#b58863",white:"#f0d9b5",highlight:"#ffff33"},{label:"Blue",black:"#4d6d92",white:"#ececd7",highlight:"#00a5ff"},{label:"Gray",black:"#4f4f4f",white:"#e3e3e3",highlight:"#ffff33"},{label:"Red",black:"#ba5546",white:"#f0d8bf",highlight:"#f8f893"},{label:"Purple",black:"#8877b7",white:"#efefef",highlight:"#7dacc9"},{label:"Orange",black:"#d08b18",white:"#fce4b2",highlight:"#ffff33"}];function a(){let[e,t]=(0,l.useContext)(n.Q).boardTheme;return(0,l.useEffect)(()=>{let e=Number(localStorage.getItem("boardTheme"));null!=o[e]?t(e):(localStorage.setItem("boardTheme","0"),t(0))},[]),(0,s.jsxs)("section",{children:[(0,s.jsx)("h1",{className:"block bg-backgroundBoxBox font-bold text-nowrap p-3 text-foreground",children:"Board Theme"}),o.map((r,n)=>(0,s.jsxs)("button",{onClick:()=>{t(n),localStorage.setItem("boardTheme",String(n))},type:"button",className:"flex flex-row gap-2 items-center hover:bg-black transition-colors hover:text-foregroundHighlighted w-full relative p-2",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 w-fit",children:Array.from({length:4}).map((e,t)=>{let n=t%2==0,l=Math.floor(t/2)%2==0,o=n?l?r.white:r.black:l?r.black:r.white;return(0,s.jsx)("div",{style:{backgroundColor:o},className:"h-5 w-5"},t)})}),(0,s.jsx)("span",{className:"font-bold text-lg",children:r.label}),(0,s.jsx)("div",{style:{backgroundColor:r.black,display:e===n?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]},n))]})}},2395:(e,t,r)=>{"use strict";r.d(t,{default:()=>a,g:()=>o});var s=r(5155),n=r(2115);let l=new AbortController,o=(0,n.createContext)({data:[{format:"fen",string:""},()=>{}],pageState:["analyze",()=>{}],game:[[],()=>{}],players:[[],()=>{}],moveNumber:[0,()=>{}],forward:[!0,()=>{}],animation:[!1,()=>{}],white:[!0,()=>{}],playing:[!1,()=>{}],time:[0,()=>{}],materialAdvantage:[0,()=>{}],result:["",()=>{}],progress:[0,()=>{}],tab:["analyze",()=>{}],analyzeController:[l,()=>{}],customLine:[{moveNumber:-1,moves:[],arrows:{}},()=>{}],returnedToNormalGame:[null,()=>{}],analyzingMove:[!1,()=>{}],depth:[18,()=>{}],gameController:{back:()=>{},forward:()=>{},last:()=>{},first:()=>{},play:()=>{},pause:()=>{},togglePlay:()=>{}}});function a(e){let[t,r]=(0,n.useState)({format:"fen",string:""}),[a,i]=(0,n.useState)("default"),[c,d]=(0,n.useState)([]),[u,f]=(0,n.useState)([{name:"White",elo:"?"},{name:"Black",elo:"?"}]),[h,m]=(0,n.useState)(0),[g,x]=(0,n.useState)(!0),[v,p]=(0,n.useState)(!0),[y,w]=(0,n.useState)(!0),[b,j]=(0,n.useState)(!1),[k,N]=(0,n.useState)(0),[C,S]=(0,n.useState)(0),[_,L]=(0,n.useState)(""),[M,E]=(0,n.useState)(0),[z,R]=(0,n.useState)("analyze"),[B,A]=(0,n.useState)(l),[O,W]=(0,n.useState)({moveNumber:-1,moves:[],arrows:{}}),[D,H]=(0,n.useState)(null),[I,T]=(0,n.useState)(!1),[G,F]=(0,n.useState)(18),P=(0,n.useRef)(h),V=(0,n.useRef)(O),U=(0,n.useRef)(c.length);return(0,n.useEffect)(()=>{V.current=O},[O]),(0,n.useEffect)(()=>{P.current=h},[h]),(0,n.useEffect)(()=>{U.current=c.length},[c.length]),(0,s.jsx)(o.Provider,{value:{data:[t,r],pageState:[a,i],game:[c,d],players:[u,f],moveNumber:[h,m],forward:[g,x],white:[y,w],animation:[v,p],playing:[b,j],time:[k,N],materialAdvantage:[C,S],result:[_,L],progress:[M,E],tab:[z,R],analyzeController:[B,A],customLine:[O,W],returnedToNormalGame:[D,H],analyzingMove:[I,T],depth:[G,F],gameController:{back:()=>{if(V.current.moveNumber>0)x(!1),p(!0),H(null),W(e=>({...e,moveNumber:e.moveNumber-1}));else if(0===V.current.moveNumber){var e;x(!1),p(!0),H(null!==(e=V.current.moves[0].movement)&&void 0!==e?e:null),W({moveNumber:-1,moves:[],arrows:{}})}else P.current>0&&(x(!1),p(!0),H(null),m(e=>e-1))},forward:()=>{if(H(null),V.current.moveNumber>=0){V.current.moveNumber<V.current.moves.length-1&&(x(!0),p(!0),W(e=>({...e,moveNumber:e.moveNumber+1})));return}P.current<U.current-1&&(x(!0),p(!0),m(e=>e+1))},first:()=>{if(V.current.moveNumber>=0){var e;p(!1),H(null!==(e=V.current.moves[0].movement)&&void 0!==e?e:null),W({moveNumber:-1,moves:[],arrows:{}})}else p(!1),H(null),m(0)},last:()=>{H(null),V.current.moveNumber>=0?(p(!1),W(e=>({...e,moveNumber:e.moves.length-1}))):(p(!1),m(U.current-1))},togglePlay:()=>{j(e=>!e)},play:()=>{j(!0)},pause:()=>{j(!1)}}},children:e.children})}},2794:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var s=r(5155),n=r(2861);function l(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",children:(0,s.jsx)("ellipse",{style:{fill:"#04b8ad",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsxs)("g",{id:"layer3",transform:"matrix(1.0629456,0,0,1,-2.2030973,-5)",children:[(0,s.jsxs)("g",{id:"layer4",children:[(0,s.jsxs)("g",{id:"g13717",style:{fill:"#000000",fillOpacity:.4},transform:"translate(0,3)",children:[(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none"},id:"rect5486",width:15,height:15,x:36,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 37.467037,75 h 12 a 1.5337037,1.5337037 135.63652 0 0 1.533325,-1.49963 l 0.93335,-42.00074 A 1.467037,1.467037 45.636515 0 0 50.467037,30 h -14 a 1.467037,1.467037 134.36348 0 0 -1.466675,1.49963 l 0.93335,42.00074 A 1.5337037,1.5337037 44.363485 0 0 37.467037,75 Z",id:"path10068"})]}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none"},id:"rect13713",width:15,height:15,x:36,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 37.467037,75 h 12 a 1.5337037,1.5337037 135.63652 0 0 1.533325,-1.49963 l 0.93335,-42.00074 A 1.467037,1.467037 45.636515 0 0 50.467037,30 h -14 a 1.467037,1.467037 134.36348 0 0 -1.466675,1.49963 l 0.93335,42.00074 A 1.5337037,1.5337037 44.363485 0 0 37.467037,75 Z",id:"path13715"})]}),(0,s.jsxs)("g",{id:"g17427",transform:"translate(30.105023)",children:[(0,s.jsxs)("g",{id:"g17421",style:{fill:"#000000",fillOpacity:.4},transform:"translate(0,3)",children:[(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none"},id:"rect17417",width:15,height:15,x:36,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 37.467037,75 h 12 a 1.5337037,1.5337037 135.63652 0 0 1.533325,-1.49963 l 0.93335,-42.00074 A 1.467037,1.467037 45.636515 0 0 50.467037,30 h -14 a 1.467037,1.467037 134.36348 0 0 -1.466675,1.49963 l 0.93335,42.00074 A 1.5337037,1.5337037 44.363485 0 0 37.467037,75 Z",id:"path17419"})]}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none"},id:"rect17423",width:15,height:15,x:36,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 37.467037,75 h 12 a 1.5337037,1.5337037 135.63652 0 0 1.533325,-1.49963 l 0.93335,-42.00074 A 1.467037,1.467037 45.636515 0 0 50.467037,30 h -14 a 1.467037,1.467037 134.36348 0 0 -1.466675,1.49963 l 0.93335,42.00074 A 1.5337037,1.5337037 44.363485 0 0 37.467037,75 Z",id:"path17425"})]})]})]})}function o(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",children:(0,s.jsx)("ellipse",{style:{fill:"#5c8bb0",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsxs)("g",{id:"layer4",transform:"matrix(1.0629456,0,0,1,13.796904,-0.25)",children:[(0,s.jsxs)("g",{id:"g13717",style:{fill:"#000000",fillOpacity:.4},transform:"translate(0,3)",children:[(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none"},id:"rect5486",width:15,height:15,x:36,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 37.467037,75 h 12 a 1.5275206,1.5275206 135.52081 0 0 1.527268,-1.499752 L 51.939769,21.499752 A 1.4729752,1.4729752 45.520813 0 0 50.467037,20 h -14 a 1.4729752,1.4729752 134.47919 0 0 -1.472732,1.499752 l 0.945464,52.000496 A 1.5275206,1.5275206 44.479187 0 0 37.467037,75 Z",id:"path10068"})]}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none"},id:"rect13713",width:15,height:15,x:36,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 37.467037,75 h 12 a 1.5275206,1.5275206 135.52081 0 0 1.527268,-1.499752 L 51.939769,21.499752 A 1.4729752,1.4729752 45.520813 0 0 50.467037,20 h -14 a 1.4729752,1.4729752 134.47919 0 0 -1.472732,1.499752 l 0.945464,52.000496 A 1.5275206,1.5275206 44.479187 0 0 37.467037,75 Z",id:"path13715"})]})]})}function a(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",children:(0,s.jsx)("circle",{style:{fill:"#96bc4b",fillOpacity:1,stroke:"none",strokeWidth:1.00135},id:"path111",cx:60,cy:60,r:60})}),(0,s.jsxs)("g",{id:"layer2",children:[(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"#000000",strokeWidth:5.72162,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},id:"path16741",d:"M 66.776277,45.238689 75.263044,67.935161 99.471227,68.992963 80.508155,84.077954 86.982866,107.42818 66.776276,94.054749 46.569684,107.42818 53.044396,84.077954 34.081325,68.992961 58.289507,67.935161 Z",transform:"matrix(1.1250069,0,0,1.1250069,-15.123769,-26.437045)"}),(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:5.72162,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},id:"path7975",d:"M 66.776277,45.238689 75.263044,67.935161 99.471227,68.992963 80.508155,84.077954 86.982866,107.42818 66.776276,94.054749 46.569684,107.42818 53.044396,84.077954 34.081325,68.992961 58.289507,67.935161 Z",transform:"matrix(1.1250069,0,0,1.1250069,-15.123769,-29.875923)"})]})]})}function i(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("circle",{style:{fill:"#96bc4b",fillOpacity:1,stroke:"none",strokeWidth:1.00135},id:"path111",cx:60,cy:60,r:60})}),(0,s.jsxs)("g",{id:"g31996",transform:"translate(-1.617908,3.1807846)",style:{fill:"#000000",fillOpacity:.4},children:[(0,s.jsx)("path",{style:{fill:"#000000",fillOpacity:.4,stroke:"#000000",strokeWidth:0,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},d:"m 47.37902,51.908793 c 11.080052,-8.625904 22.551638,-18.332397 22.551638,-30.469116 13.018296,-7.253311 9.590358,16.034594 7.51367,21.497879 -0.815753,6.708204 5.315057,5.912592 13.358129,5.561976 7.467461,-1.542733 8.807047,6.274402 5.976401,11.281572 2.476894,4.388739 1.98924,8.519712 -1.879967,11.799609 3.310759,4.736985 0.47502,7.428659 -3.686437,10.688287 1.69328,14.541232 -36.529435,3.584955 -43.914017,3.204706 z",id:"path31992"}),(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"#000000",strokeWidth:0,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},id:"rect31994",width:17.808558,height:37.697556,x:24.933908,y:50.083008,ry:3.3236432})]}),(0,s.jsxs)("g",{id:"layer4",transform:"translate(-1.617908,-0.05254178)",children:[(0,s.jsx)("path",{style:{fill:"#ffffff",stroke:"#000000",strokeWidth:0,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},d:"m 47.37902,51.908793 c 11.080052,-8.625904 22.551638,-18.332397 22.551638,-30.469116 13.018296,-7.253311 9.590358,16.034594 7.51367,21.497879 -0.815753,6.708204 5.315057,5.912592 13.358129,5.561976 7.467461,-1.542733 8.807047,6.274402 5.976401,11.281572 2.476894,4.388739 1.98924,8.519712 -1.879967,11.799609 3.310759,4.736985 0.47502,7.428659 -3.686437,10.688287 1.69328,14.541232 -36.529435,3.584955 -43.914017,3.204706 z",id:"path31972"}),(0,s.jsx)("rect",{style:{fill:"#ffffff",stroke:"#000000",strokeWidth:0,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},id:"rect5260",width:17.808558,height:37.697556,x:24.933908,y:50.083008,ry:3.3236432})]})]})}function c(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",children:(0,s.jsx)("circle",{style:{fill:"#95af8a",fillOpacity:1,stroke:"none",strokeWidth:1.00135},id:"path111",cx:60,cy:60,r:60})}),(0,s.jsx)("g",{id:"layer3",children:(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:0,stroke:"#000000",strokeWidth:4.8378,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},d:"M 31.204526,57.722584 48.905704,76.466308 89.252302,38.363832 96.994586,46.562114 48.449706,92.406873 23.006245,65.464867 Z",id:"path32391-3"})}),(0,s.jsx)("g",{id:"layer2",children:(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:4.83869,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},d:"M 31.204026,54.135255 48.905204,72.878979 89.251802,34.776503 96.994086,42.974785 48.449206,88.819544 23.005745,61.877538 Z",id:"path32391"})})]})}function d(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{display:"inline",fill:"#a98866",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsxs)("g",{id:"layer2",children:[(0,s.jsxs)("g",{id:"layer3",children:[(0,s.jsx)("path",{style:{display:"inline",fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:4.34391,strokeLinejoin:"round"},d:"m 20.448744,32.537329 c 17.662962,-0.803674 28.965997,1.545309 34.307091,6.849663 V 94.068041 C 47.199259,90.203754 36.868563,87.470164 20.448744,87.218371 Z",id:"path6305"}),(0,s.jsx)("path",{style:{display:"inline",fill:"#fefefd",fillOpacity:1,stroke:"none",strokeWidth:4.18857,strokeLinejoin:"round"},d:"m 24.565815,27.793565 c 16.422272,-0.803673 26.931354,1.545309 31.897276,6.849663 V 89.324276 C 49.437307,85.459993 39.832265,82.726397 24.565815,82.474609 Z",id:"path23455"})]}),(0,s.jsxs)("g",{id:"layer4",children:[(0,s.jsx)("path",{style:{display:"inline",fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:4.34391,strokeLinejoin:"round"},d:"M 99.551451,32.537329 C 81.888489,31.733655 70.585454,34.082638 65.24436,39.386992 v 54.681044 c 7.556576,-3.86428 17.887272,-6.59787 34.307091,-6.84967 z",id:"path29297"}),(0,s.jsx)("path",{style:{display:"inline",fill:"#fefefd",fillOpacity:1,stroke:"none",strokeWidth:4.18857,strokeLinejoin:"round"},d:"m 95.434569,27.793565 c -16.42227,-0.803673 -26.931353,1.545309 -31.897275,6.849663 v 54.681048 c 7.025785,-3.864283 16.630827,-6.597879 31.897275,-6.849667 z",id:"path6305-6"})]})]})]})}function u(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{fill:"#f7c045",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsxs)("g",{id:"layer3",transform:"matrix(1.0629456,0,0,1,-2.2030973,-5)",children:[(0,s.jsx)("g",{id:"layer4",transform:"matrix(0.94078192,0,0,1,2.0726341,5)",children:(0,s.jsxs)("g",{"aria-label":"?",id:"text78741",style:{fontSize:"89.1793px",fontFamily:"'DejaVu Sans Mono'",fill:"#ffffff",stroke:"#ffffff",strokeWidth:4.77487,strokeLinejoin:"round",strokeOpacity:.952941},transform:"matrix(0.93350948,0,0,0.93350948,5.6864311,1.662263)",children:[(0,s.jsx)("path",{d:"m 32.721105,70.75057 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"none",stroke:"#000000",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:.4},id:"path90676"}),(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:5.27349},id:"rect17417-0",width:17.07983,height:16.068396,x:30.152634,y:84.453064,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:5.27349},id:"rect17423-8",width:17.07983,height:16.068396,x:30.152634,y:81.239388,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("path",{d:"m 32.721105,67.607299 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:1},id:"path90788"})]})}),(0,s.jsxs)("g",{id:"g17427",transform:"translate(30.105023)",children:[(0,s.jsxs)("g",{id:"g17421",style:{fill:"#000000",fillOpacity:.4},transform:"translate(0,3)",children:[(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none"},id:"rect17417",width:15,height:15,x:39.749226,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 41.216268,75 h 12 a 1.5337037,1.5337037 135.63652 0 0 1.533325,-1.49963 l 0.93335,-42.00074 A 1.467037,1.467037 45.636515 0 0 54.216268,30 h -14 a 1.467037,1.467037 134.36348 0 0 -1.466675,1.49963 l 0.93335,42.00074 A 1.5337037,1.5337037 44.363485 0 0 41.216268,75 Z",id:"path17419"})]}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none"},id:"rect17423",width:15,height:15,x:39.749226,y:82.5,rx:1.5,ry:1.5}),(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:0,strokeLinecap:"butt",strokeLinejoin:"bevel",strokeDasharray:"none",strokeOpacity:1},d:"m 41.216268,75 h 12 a 1.5337037,1.5337037 135.63652 0 0 1.533325,-1.49963 l 0.93335,-42.00074 A 1.467037,1.467037 45.636515 0 0 54.216268,30 h -14 a 1.467037,1.467037 134.36348 0 0 -1.466675,1.49963 l 0.93335,42.00074 A 1.5337037,1.5337037 44.363485 0 0 41.216268,75 Z",id:"path17425"})]})]})]})}function f(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{fill:"#e58f2a",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsx)("g",{id:"layer3",transform:"matrix(1.0629456,0,0,1,-2.2030973,-5)",children:(0,s.jsx)("g",{id:"layer4",transform:"matrix(0.94078192,0,0,1,2.0726341,5)",children:(0,s.jsxs)("g",{"aria-label":"?",id:"text78741",style:{fontSize:"89.1793px",fontFamily:"'DejaVu Sans Mono'",fill:"#ffffff",stroke:"#ffffff",strokeWidth:4.77487,strokeLinejoin:"round",strokeOpacity:.952941},transform:"matrix(0.99309791,0,0,0.99309791,19.268334,-2.3276514)",children:[(0,s.jsx)("path",{d:"m 32.721105,70.75057 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"none",stroke:"#000000",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:.4},id:"path90676"}),(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:5.27349},id:"rect17417-0",width:17.07983,height:16.068396,x:30.152634,y:84.453064,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:5.27349},id:"rect17423-8",width:17.07983,height:16.068396,x:30.152634,y:81.239388,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("path",{d:"m 32.721105,67.607299 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:1},id:"path90788"})]})})})]})}function h(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{fill:"#ee6b55",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsxs)("g",{id:"layer5",children:[(0,s.jsx)("path",{style:{display:"inline",mixBlendMode:"normal",fill:"none",fillOpacity:.4,stroke:"#000000",strokeWidth:4.457,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:.4},d:"M 81.271867,31.490925 91.858943,42.117017 70.606758,63.291167 91.78091,84.543351 81.154817,95.130427 59.980667,73.878242 38.728483,95.052394 28.141408,84.426301 49.393592,63.252151 28.21944,41.999967 38.845533,31.412892 60.019683,52.665076 Z",id:"path114280"}),(0,s.jsx)("path",{style:{fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:4.457,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},d:"M 81.271867,28.219441 91.858943,38.845533 70.606758,60.019683 91.78091,81.271867 81.154817,91.858943 59.980667,70.606758 38.728483,91.78091 28.141408,81.154817 49.393592,59.980667 28.21944,38.728483 38.845533,28.141408 60.019683,49.393592 Z",id:"path31371"})]})]})}function m(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{fill:"#ca3531",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsxs)("g",{id:"layer3",transform:"matrix(1.0629456,0,0,1,-2.2030973,-5)",children:[(0,s.jsx)("g",{id:"g17427",transform:"translate(30.105023)",children:(0,s.jsxs)("g",{"aria-label":"?",id:"g125666",style:{fontSize:"89.1793px",fontFamily:"'DejaVu Sans Mono'",fill:"#ffffff",stroke:"#ffffff",strokeWidth:4.77487,strokeLinejoin:"round",strokeOpacity:.952941},transform:"matrix(0.87822884,0,0,0.93350948,9.8058461,6.662263)",children:[(0,s.jsx)("path",{d:"m 32.721105,70.75057 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"none",stroke:"#000000",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:.4},id:"path125658"}),(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:5.27349},id:"rect125660",width:17.07983,height:16.068396,x:30.152634,y:84.453064,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:5.27349},id:"rect125662",width:17.07983,height:16.068396,x:30.152634,y:81.239388,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("path",{d:"m 32.721105,67.607299 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:1},id:"path125664"})]})}),(0,s.jsxs)("g",{id:"layer2",transform:"matrix(0.94078192,0,0,1,2.0726341,5)",children:[(0,s.jsxs)("g",{"aria-label":"?",id:"g362-3",style:{fontSize:"89.1793px",fontFamily:"'DejaVu Sans Mono'",fill:"#ca3531",fillOpacity:1,stroke:"#ca3531",strokeWidth:4.77536,strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},transform:"matrix(0.99226979,0,0,0.93350948,5.6313415,1.6620716)",children:[(0,s.jsx)("path",{d:"m 32.721105,70.75057 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"#ca3531",fillOpacity:1,stroke:"#ca3531",strokeWidth:4.77536,strokeDasharray:"none",strokeOpacity:1},id:"path354-6"}),(0,s.jsx)("rect",{style:{fill:"#ca3531",fillOpacity:1,stroke:"#ca3531",strokeWidth:4.77536,strokeDasharray:"none",strokeOpacity:1},id:"rect356-7",width:17.07983,height:16.068396,x:30.152634,y:84.453064,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("rect",{style:{fill:"#ca3531",fillOpacity:1,stroke:"#ca3531",strokeWidth:4.77536,strokeDasharray:"none",strokeOpacity:1},id:"rect358-5",width:17.07983,height:16.068396,x:30.152634,y:81.239388,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("path",{d:"m 32.721105,67.607299 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"#ca3531",fillOpacity:1,stroke:"#ca3531",strokeWidth:4.77536,strokeDasharray:"none",strokeOpacity:1},id:"path360-3"})]}),(0,s.jsxs)("g",{"aria-label":"?",id:"g362",style:{fontSize:"89.1793px",fontFamily:"'DejaVu Sans Mono'",fill:"#ffffff",stroke:"#ffffff",strokeWidth:4.77487,strokeLinejoin:"round",strokeOpacity:.952941},transform:"matrix(0.99226979,0,0,0.93350948,2.1137056,1.6620716)",children:[(0,s.jsx)("path",{d:"m 32.721105,70.75057 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"none",stroke:"#000000",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:.4},id:"path354"}),(0,s.jsx)("rect",{style:{fill:"#000000",fillOpacity:.4,stroke:"none",strokeWidth:5.27349},id:"rect356",width:17.07983,height:16.068396,x:30.152634,y:84.453064,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("rect",{style:{fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:5.27349},id:"rect358",width:17.07983,height:16.068396,x:30.152634,y:81.239388,rx:1.7079831,ry:1.6068397}),(0,s.jsx)("path",{d:"m 32.721105,67.607299 c 0,-2.972643 0.624255,-5.469664 1.872766,-7.491061 1.24851,-2.021398 3.388813,-4.131975 6.420909,-6.331731 2.675379,-1.902491 4.57787,-3.537445 5.707475,-4.904861 1.189057,-1.426869 1.783586,-3.091549 1.783586,-4.994041 0,-1.902491 -0.713434,-3.32936 -2.140303,-4.280606 -1.367416,-1.010699 -3.299634,-1.516048 -5.796654,-1.516048 -2.497021,0 -4.964315,0.386444 -7.401882,1.159331 -2.437567,0.772887 -4.934588,1.813312 -7.491061,3.121275 l -4.726503,-9.542185 c 2.913191,-1.605227 6.064193,-2.91319 9.453006,-3.923889 3.388813,-1.010699 7.104617,-1.516048 11.147412,-1.516048 6.183098,0 10.969054,1.486322 14.357867,4.458965 3.448266,2.972643 5.172399,6.7479 5.172399,11.325771 0,2.437567 -0.386444,4.548144 -1.159331,6.33173 -0.772887,1.783586 -1.932218,3.448266 -3.477992,4.994041 -1.545775,1.486321 -3.477993,3.091549 -5.796655,4.815682 -1.724133,1.24851 -3.061822,2.318662 -4.013068,3.210455 -0.951246,0.891793 -1.605228,1.753859 -1.961945,2.586199 -0.297264,0.83234 -0.445896,1.872765 -0.445896,3.121276 v 2.586199 h -11.50413 z",style:{fontWeight:"bold",fontFamily:"'Droid Sans Fallback'",display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:4.77446,strokeDasharray:"none",strokeOpacity:1},id:"path360"})]})]})]})]})}function g(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{display:"inline",fill:"#95af8a",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsx)("g",{id:"layer3",children:(0,s.jsx)("path",{style:{display:"inline",fill:"none",fillOpacity:1,stroke:"#000000",strokeWidth:5.11214,strokeLinejoin:"round",strokeOpacity:.4},d:"m 28.63107,52.099592 h 33.369041 v -16.68452 l 33.36904,27.807534 -33.36904,27.807536 V 74.345619 H 28.63107 Z",id:"path396"})}),(0,s.jsx)("g",{id:"layer2",children:(0,s.jsx)("path",{style:{display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"#ffffff",strokeWidth:5.11214,strokeLinejoin:"round",strokeOpacity:1},d:"M 28.63107,48.8768 H 62.000111 V 32.19228 l 33.36904,27.807534 -33.36904,27.807533 V 71.122827 H 28.63107 Z",id:"path3988"})})]})}function x(e){let{rating:t,size:r,dataset:x,draggable:v,className:p,style:y,title:w}=e,b=(0,n.x)(null!=x?x:{}),j={size:r};return(0,s.jsx)("div",{title:w,draggable:v,...b,className:p,style:y,children:(()=>{switch(t){case"brilliant":return(0,s.jsx)(l,{...j});case"great":return(0,s.jsx)(o,{...j});case"best":return(0,s.jsx)(a,{...j});case"excellent":return(0,s.jsx)(i,{...j});case"good":return(0,s.jsx)(c,{...j});case"book":return(0,s.jsx)(d,{...j});case"inaccuracy":return(0,s.jsx)(u,{...j});case"mistake":return(0,s.jsx)(f,{...j});case"miss":return(0,s.jsx)(h,{...j});case"blunder":return(0,s.jsx)(m,{...j});case"forced":return(0,s.jsx)(g,{...j})}})()})}},3065:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(5155),n=r(2395),l=r(5607),o=r(6766),a=r(2115);function i(){let e=(0,a.useContext)(n.g),t=(0,a.useContext)(l.Q),r=e.white[1],i=e.animation[1],c=t.openedMenu[1],d=t.boardMenuSettingsRef;return(0,s.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("button",{className:"outline-none",ref:d,onClick:()=>c(e=>"settings"===e?null:"settings"),type:"button",children:(0,s.jsx)(o.default,{className:"min-w-[17px]",src:"".concat("/Brilliant-Chess","/images/settings.svg"),title:"Settings",alt:"Settings",width:17,height:17})}),(0,s.jsx)("button",{className:"outline-none",onClick:function(){i(!1),r(e=>!e)},type:"button",children:(0,s.jsx)(o.default,{src:"".concat("/Brilliant-Chess","/images/flip.svg"),title:"Flip Board",alt:"Flip Board",width:17,height:17,className:"min-w-[17px]"})})]}),(0,s.jsx)("div",{})]})}},4490:(e,t,r)=>{"use strict";r.d(t,{default:()=>C});var s=r(5155),n=r(6766);function l(e){return(0,s.jsxs)("svg",{width:"18px",height:"18px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:"github [#142]"}),(0,s.jsx)("desc",{children:"Created with Sketch."}),(0,s.jsx)("defs",{}),(0,s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,s.jsx)("g",{id:"Dribbble-Light-Preview",transform:"translate(-140.000000, -7559.000000)",className:e.class,children:(0,s.jsx)("g",{id:"icons",transform:"translate(56.000000, 160.000000)",children:(0,s.jsx)("path",{d:"M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399",id:"github-[#142]"})})})})]})}var o=r(2115);function a(e){var t;let r=null!==(t=e.size)&&void 0!==t?t:18;return(0,s.jsx)("div",{draggable:e.draggable,children:(0,s.jsx)("svg",{height:"".concat(r,"px"),width:"".concat(r,"px"),version:"1.1",id:"_x32_",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{className:e.class,d:"M500.609,322.275l-57.428-162.834c0.135,0.008,0.279,0.025,0.406,0.025        c39.538,0.677,49.422-20.58,54.566-27.94c7.118-10.171-7.91-20.343-15.816-13.558c-7.906,6.775-29.264,21.011-70.386,2.024        C374.874,102.875,309.87,73.098,271.92,67.399v-39c0-8.799-7.127-15.921-15.918-15.921c-8.795,0-15.922,7.122-15.922,15.921v39        c-37.95,5.699-102.953,35.476-140.031,52.593c-41.121,18.987-62.48,4.751-70.386-2.024c-7.906-6.784-22.935,3.388-15.816,13.558        c5.145,7.36,15.028,28.617,54.566,27.94c0.132,0,0.276-0.017,0.402-0.025L11.391,322.275H0        c11.497,38.025,46.804,65.736,88.595,65.736c41.786,0,77.093-27.711,88.59-65.736h-11.386l-60.355-171.134        c37.183-11.467,89.569-31.056,134.636-34.072v24.23h-8.507v267.748H218.37v23.858c-8.715,0-17.569,0-24.874,0        c-23.354,0-22.663,32.969-22.663,32.969c-19.233,0-28.85,15.101-28.85,33.648h228.033c0-18.546-9.616-33.648-28.845-33.648        c0,0,0.686-32.969-22.668-32.969c-7.305,0-16.159,0-24.874,0v-23.858h-13.203V141.3h-8.507v-24.23        c45.072,3.015,97.457,22.604,134.64,34.072l-60.358,171.134h-11.387c11.496,38.025,46.804,65.736,88.59,65.736        c41.79,0,77.098-27.711,88.594-65.736H500.609z M141.243,322.275H35.948L88.595,173L141.243,322.275z M370.758,322.275L423.41,173        l52.643,149.275H370.758z"})})})})}var i=r(5607),c=r(2085),d=r(7297),u=r(2861),f=r(3912);function h(){let e=(0,o.useContext)(i.Q),[t]=e.boardTheme,[r,n]=e.showArrows,[l,a]=e.arrowAfterMove;return(0,o.useEffect)(()=>{let e=localStorage.getItem("showArrows");if(!e)return;let t=Number(e);isNaN(t)?(localStorage.setItem("showArrows","1"),n(!0)):n(!!t)},[]),(0,o.useEffect)(()=>{let e=localStorage.getItem("arrowAfterMove");if(!e)return;let t=Number(e);isNaN(t)?(localStorage.setItem("arrowAfterMove","1"),a(!0)):a(!!t)},[]),(0,s.jsxs)("section",{children:[(0,s.jsx)("h1",{className:"block bg-backgroundBoxBox font-bold text-nowrap p-3 text-foreground",children:"Best Moves"}),(0,s.jsxs)("button",{onClick:function(){let e=!r;localStorage.setItem("showArrows",String(Number(e))),n(e)},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 w-fit relative",children:[Array.from({length:4}).map((e,r)=>{let n=r%2==0,l=Math.floor(r/2)%2==0,o=n?l?c.J[t].white:c.J[t].black:l?c.J[t].black:c.J[t].white;return(0,s.jsx)("div",{style:{backgroundColor:o},className:"h-5 w-5 relative",children:2===r?(0,s.jsx)(u.default,{className:"absolute z-10 top-0 left-0",piece:f.ps,size:20,color:f.UE}):null},r)}),r?(0,s.jsx)(d.i3,{move:[{col:0,row:1},{col:1,row:1}],squareSize:20,white:!0,class:"fill-bestArrow stroke-bestArrow"}):null]}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"Show arrows"}),(0,s.jsx)("div",{style:{backgroundColor:"var(--foreground)",display:r?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]}),(0,s.jsxs)("button",{onClick:function(){let e=!l;localStorage.setItem("arrowAfterMove",String(Number(e))),a(e)},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 w-fit relative",children:[Array.from({length:4}).map((e,r)=>{let n=r%2==0,o=Math.floor(r/2)%2==0,a=n?o?c.J[t].white:c.J[t].black:o?c.J[t].black:c.J[t].white;return(0,s.jsxs)("div",{style:{backgroundColor:a},className:"h-5 w-5 relative",children:[(2===r||3===r)&&l?(0,s.jsx)("div",{className:"w-full h-full absolute top-0 left-0 opacity-50",style:{backgroundColor:"var(--highlightBoard)"}}):null,2===r&&!l||3===r&&l?(0,s.jsx)(u.default,{className:"absolute z-10 top-0 left-0",piece:f.ps,size:20,color:f.UE}):null,(2===r||3===r)&&l?(0,s.jsx)("div",{className:"w-full h-full opacity-50 absolute top-0 left-0",style:{backgroundColor:c.J[t].highlight}}):null]},r)}),(0,s.jsx)(d.i3,{move:[{col:0,row:1},{col:1,row:1}],squareSize:20,white:!0,class:"fill-bestArrow stroke-bestArrow"})]}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"Arrow after move"}),(0,s.jsx)("div",{style:{backgroundColor:"var(--foreground)",display:l?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]})]})}function m(e){let{size:t,display:r}=e;return(0,s.jsxs)("svg",{style:{display:r?"":"none"},width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M3.13868 13.8978C2.4378 12.7296 2.4378 11.2703 3.13868 10.1022C3.36728 9.72119 3.75538 9.46349 4.19522 9.40066L6.52622 9.06766C6.82769 9.02459 7.09655 8.85515 7.26548 8.60176L7.63257 8.05112C7.92332 7.61499 8.0687 7.39693 8.23036 7.20088C8.80072 6.50919 9.54657 5.98357 10.3898 5.67908C10.6288 5.59277 10.8831 5.52921 11.3916 5.40208L12.0046 5.24882C12.3447 5.1638 12.5147 5.12129 12.6486 5.16295C12.7648 5.19912 12.8638 5.27645 12.9271 5.38042C13 5.50017 13 5.67545 13 6.026V17.974C13 18.3245 13 18.4998 12.9271 18.6195C12.8638 18.7235 12.7648 18.8008 12.6486 18.837C12.5147 18.8787 12.3447 18.8361 12.0046 18.7511L11.3916 18.5979C10.8831 18.4707 10.6288 18.4072 10.3898 18.3209C9.54657 18.0164 8.80072 17.4908 8.23036 16.7991C8.0687 16.603 7.92332 16.385 7.63257 15.9488L7.26548 15.3982C7.09655 15.1448 6.82769 14.9754 6.52621 14.9323L4.19522 14.5993C3.75538 14.5365 3.36728 14.2788 3.13868 13.8978Z",fill:"#ffffff"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0052 7.93411C15.2981 7.64122 15.773 7.64122 16.0659 7.93411C17.1386 9.0069 17.744 10.4602 17.75 11.9773C17.7559 13.4945 17.1621 14.9525 16.0978 16.0337C15.8072 16.3289 15.3323 16.3326 15.0371 16.042C14.742 15.7515 14.7382 15.2766 15.0288 14.9814C15.8154 14.1823 16.2544 13.1046 16.25 11.9832C16.2456 10.8619 15.7981 9.7877 15.0052 8.99477C14.7123 8.70188 14.7123 8.227 15.0052 7.93411Z",fill:"#ffffff"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1265 5.81279C18.4194 5.5199 18.8943 5.5199 19.1872 5.81279C20.8197 7.44529 21.7408 9.65682 21.7499 11.9655C21.759 14.2742 20.8553 16.4929 19.2357 18.1382C18.9452 18.4334 18.4703 18.4372 18.1751 18.1466C17.8799 17.856 17.8762 17.3811 18.1668 17.0859C19.5087 15.7227 20.2575 13.8843 20.2499 11.9714C20.2424 10.0585 19.4792 8.22609 18.1265 6.87345C17.8336 6.58056 17.8336 6.10568 18.1265 5.81279Z",fill:"#ffffff"})]})}function g(e){let{size:t,display:r}=e;return(0,s.jsxs)("svg",{style:{display:r?"":"none"},width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L3.29289 19.2929C2.90237 19.6834 2.90237 20.3166 3.29289 20.7071C3.68342 21.0976 4.31658 21.0976 4.70711 20.7071L8.40951 17.0047C8.95325 17.5953 9.63222 18.0474 10.3898 18.3209C10.6288 18.4072 10.883 18.4708 11.3915 18.5979L12.0046 18.7512C12.3447 18.8362 12.5147 18.8787 12.6486 18.8371C12.7648 18.8009 12.8638 18.7236 12.9271 18.6196C13 18.4998 13 18.3246 13 17.974V12.4142L18.7071 6.70711Z",fill:"#ffffff"}),(0,s.jsx)("path",{d:"M13 6.02606V7.5858L5.76254 14.8233L4.19522 14.5994C3.75538 14.5365 3.36728 14.2788 3.13868 13.8978C2.4378 12.7297 2.4378 11.2704 3.13868 10.1022C3.36728 9.72125 3.75538 9.46355 4.19522 9.40072L6.52621 9.06772C6.82769 9.02465 7.09655 8.85521 7.26548 8.60182L7.63257 8.05118C7.92332 7.61506 8.0687 7.39699 8.23036 7.20094C8.80072 6.50925 9.54657 5.98363 10.3898 5.67914C10.6288 5.59284 10.883 5.52927 11.3915 5.40215L12.0046 5.24888C12.3447 5.16386 12.5147 5.12135 12.6486 5.16301C12.7648 5.19919 12.8638 5.27651 12.9271 5.38048C13 5.50024 13 5.67551 13 6.02606Z",fill:"#ffffff"})]})}function x(){let[e,t]=(0,o.useState)(!1),r=(0,o.useContext)(i.Q),[n]=r.boardTheme,[l,a]=r.showLegalMoves,[d,h]=r.animateMoves,[x,v]=r.boardSounds;return(0,o.useEffect)(()=>{setInterval(()=>{t(e=>!e)},2e3)},[]),(0,o.useEffect)(()=>{let e=localStorage.getItem("showLegalMoves");if(!e)return;let t=Number(e);isNaN(t)?(localStorage.setItem("showLegalMoves","1"),a(!0)):a(!!t)},[]),(0,o.useEffect)(()=>{let e=localStorage.getItem("animateMoves");if(!e)return;let t=Number(e);isNaN(t)?(localStorage.setItem("animateMoves","1"),h(!0)):h(!!t)},[]),(0,o.useEffect)(()=>{let e=localStorage.getItem("boardSounds");if(!e)return;let t=Number(e);isNaN(t)?(localStorage.setItem("boardSounds","1"),v(!0)):v(!!t)},[]),(0,s.jsx)("div",{children:(0,s.jsxs)("section",{children:[(0,s.jsx)("h1",{className:"block bg-backgroundBoxBox font-bold text-nowrap p-3 text-foreground",children:"Moves"}),(0,s.jsxs)("button",{onClick:function(){let e=!l;localStorage.setItem("showLegalMoves",String(Number(e))),a(e)},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 w-fit",children:Array.from({length:4}).map((e,t)=>{let r=t%2==0,o=Math.floor(t/2)%2==0,a=r?o?c.J[n].white:c.J[n].black:o?c.J[n].black:c.J[n].white;return(0,s.jsxs)("div",{style:{backgroundColor:a},className:"h-5 w-5 relative",children:[2===t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.default,{className:"absolute z-10 top-0 left-0",piece:f.wt,size:20,color:f.UE}),(0,s.jsx)("div",{className:"w-full h-full opacity-50 absolute top-0 left-0",style:{backgroundColor:c.J[n].highlight}})]}):null,1===t&&l?(0,s.jsx)("div",{className:"absolute w-full h-full top-0 left-0 flex justify-center items-center pointer-events-auto",children:(0,s.jsx)("div",{className:"bg-black opacity-[25%] w-[30%] h-[30%] rounded-full"})}):null]},t)})}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"Show legal moves"}),(0,s.jsx)("div",{style:{backgroundColor:"var(--foreground)",display:l?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]}),(0,s.jsxs)("button",{onClick:function(){let e=!d;localStorage.setItem("animateMoves",String(Number(e))),h(e)},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 w-fit",children:Array.from({length:4}).map((t,r)=>{let l=r%2==0,o=Math.floor(r/2)%2==0,a=l?o?c.J[n].white:c.J[n].black:o?c.J[n].black:c.J[n].white;return(0,s.jsxs)("div",{style:{backgroundColor:a},className:"h-5 w-5 relative",children:[2===r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.default,{style:{transform:e?"translateX(20px)":"",transition:d?"150ms":"",transitionTimingFunction:d?"linear":""},className:"absolute z-10 top-0 left-0",piece:f.wl,size:20,color:f.UE}),(0,s.jsx)("div",{className:"w-full h-full opacity-50 absolute top-0 left-0",style:{backgroundColor:c.J[n].highlight}})]}):null,3===r?(0,s.jsx)("div",{className:"w-full h-full opacity-50 absolute top-0 left-0",style:{backgroundColor:c.J[n].highlight}}):null]},r)})}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"Animate moves"}),(0,s.jsx)("div",{style:{backgroundColor:"var(--foreground)",display:d?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]}),(0,s.jsxs)("button",{onClick:function(){let e=!x;localStorage.setItem("boardSounds",String(Number(e))),v(e)},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsxs)("div",{className:"w-[40px] h-[40px] flex justify-center items-center",children:[(0,s.jsx)(m,{display:x,size:35}),(0,s.jsx)(g,{display:!x,size:35})]}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"Board sounds"}),(0,s.jsx)("div",{style:{backgroundColor:"var(--foreground)",display:x?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]})]})})}var v=r(1425),p=r(2794);let y=["brilliant","great","best","excellent","good","book","inaccuracy","mistake","miss","blunder","forced"];function w(e){let t=[];for(let r of y)e[r]?t.push(1):t.push(0);return t.join("")}function b(){let e=(0,o.useContext)(i.Q),[t,r]=e.usedRatings,[n]=e.boardTheme,[l,a]=e.highlightByRating;return(0,o.useEffect)(()=>{let e=localStorage.getItem("usedRatings");if(e)try{let t=function(e){let t={...i.X},r=e.split("").map(Number);if(r.length!==y.length)throw Error("Invalid serialized ratings");for(let[e,s]of y.entries()){if(isNaN(r[e]))throw Error("Invalid serialized ratings");r[e]?t[s]=!0:t[s]=!1}return t}(e);r(t)}catch(e){localStorage.setItem("usedRatings",w(i.X)),r(i.X)}},[]),(0,o.useEffect)(()=>{let e=localStorage.getItem("highlightByRating");if(!e)return;let t=Number(e);isNaN(t)?(localStorage.setItem("highlightByRating","1"),a(!0)):a(!!t)},[]),(0,s.jsxs)("section",{children:[(0,s.jsx)("h1",{className:"block bg-backgroundBoxBox font-bold text-nowrap p-3 text-foreground",children:"Ratings"}),(0,s.jsxs)("button",{onClick:function(){let e=!l;localStorage.setItem("highlightByRating",String(Number(e))),a(e)},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 w-fit",children:Array.from({length:4}).map((e,t)=>{let r=t%2==0,o=Math.floor(t/2)%2==0,a=r?o?c.J[n].white:c.J[n].black:o?c.J[n].black:c.J[n].white;return(0,s.jsxs)("div",{style:{backgroundColor:a},className:"h-5 w-5 relative",children:[2===t||3===t?(0,s.jsx)("div",{className:"w-full h-full absolute top-0 left-0 opacity-50",style:{backgroundColor:l?"var(--highlightGreat)":c.J[n].highlight}}):null,3===t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.default,{className:"absolute z-10 top-0 left-0",piece:f.ps,size:20,color:f.UE}),(0,s.jsx)(p.A,{rating:"great",size:12,className:"absolute top-0 right-0 translate-x-1/2 translate-y-[-50%]"})]}):null]},t)})}),(0,s.jsx)("span",{className:"font-bold text-lg",children:"Highlight by rating"}),(0,s.jsx)("div",{style:{backgroundColor:"var(--foreground)",display:l?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]}),y.map((e,n)=>{let l="forced"===e?"var(--highlightGood)":"var(--highlight".concat((0,v.ND)(e),")");return(0,s.jsxs)("button",{onClick:function(){let s={...t,[e]:!t[e]};r(s),localStorage.setItem("usedRatings",w(s))},type:"button",className:"flex flex-row gap-2 items-center hover:text-foregroundHighlighted hover:bg-black transition-colors w-full relative p-2",children:[(0,s.jsx)(p.A,{rating:e,size:35,className:"w-[40px] h-[40px] flex justify-center items-center"}),(0,s.jsx)("span",{className:"font-bold text-lg",children:(0,v.ND)(e)}),(0,s.jsx)("div",{style:{backgroundColor:l,display:t[e]?"":"none"},className:"w-3 h-3 rounded-full absolute right-3"})]},n)})]})}function j(e){let{hidden:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",style:{display:t?"none":""},children:[(0,s.jsx)(c.A,{}),(0,s.jsx)(b,{}),(0,s.jsx)(x,{}),(0,s.jsx)(h,{})]})}var k=r(6874),N=r.n(k);function C(){let e=(0,o.useContext)(i.Q),[t,r]=e.openedMenu,c=e.boardMenuSettingsRef,d=(0,o.useRef)(null),u=(0,o.useRef)(null),f=[{label:"Source Code",href:"https://github.com/wdeloo/Brilliant-Chess",icon:e=>(0,s.jsx)(l,{class:e.className})},{label:"Licenses",href:"/licenses",icon:e=>(0,s.jsx)(a,{class:e.className})}];return(0,o.useEffect)(()=>{function e(e){var t,s,n;(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))||(null===(s=d.current)||void 0===s?void 0:s.contains(e.target))||(null===(n=c.current)||void 0===n?void 0:n.contains(e.target))||r(null)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.jsxs)("nav",{className:"flex flex-row h-screen w-max relative reduceNav:ml-0 ml-[-4px]",children:[(0,s.jsxs)("div",{className:"pt-1 pb-6 h-full overflow-y-auto bg-backgroundBox flex flex-col justify-between select-none items-start",children:[(0,s.jsxs)("div",{ref:d,className:"flex flex-col",children:[(0,s.jsxs)(N(),{draggable:!1,onMouseEnter:()=>r(null),href:"/",className:"flex flex-row gap-1 font-extrabold text-xl p-3 transition-colors hover:bg-backgroundBoxHover hover:text-foregroundHighlighted",children:[(0,s.jsx)(n.default,{draggable:!1,height:30,width:30,alt:"logo",src:"".concat("/Brilliant-Chess","/images/logo.svg"),className:"mt-[-2px]"}),(0,s.jsxs)("div",{className:"h-fit w-fit reduceNav:block hidden",children:["Brilliant",(0,s.jsx)("span",{className:"text-sm font-light",children:"Chess"})]})]}),[{label:"Settings",hover:function(){r("settings")},icon:"".concat("/Brilliant-Chess","/images/setting.svg"),role:"button"}].map((e,t)=>(0,s.jsxs)("button",{onClick:null==e?void 0:e.click,onMouseEnter:null==e?void 0:e.hover,onMouseLeave:null==e?void 0:e.unHover,type:"button",className:"text-lg outline-none font-bold px-3 py-2 hover:bg-backgroundBoxHover hover:text-foregroundHighlighted transition-colors flex flex-row gap-2",children:[(0,s.jsx)(n.default,{draggable:!1,height:28,width:28,alt:e.label,src:e.icon,className:"transition-colors"}),(0,s.jsx)("div",{className:"h-fit w-fit reduceNav:block hidden",children:e.label})]},t))]}),(0,s.jsx)("div",{className:"flex flex-col text-sm font-bold w-full",children:f.map((e,t)=>(0,s.jsxs)(N(),{draggable:!1,target:"_blank",href:e.href,className:"flex flex-row gap-2 reduceNav:px-3 reduceNav:justify-start justify-center py-2 group hover:bg-backgroundBoxHover text-foregroundGrey hover:text-foregroundHighlighted transition-colors",children:[(0,s.jsx)(e.icon,{className:"fill-foregroundGrey transition-colors group-hover:fill-foregroundHighlighted"}),(0,s.jsx)("span",{className:"reduceNav:block hidden",children:e.label})]},t))})]}),(0,s.jsx)("div",{ref:u,style:{display:t?"":"none"},className:"h-full z-[500] p-2 bg-backgroundBoxDarker absolute left-full select-none min-w-[300px] overflow-y-auto",children:(0,s.jsx)(j,{hidden:"settings"!==t})})]})}},4772:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5155),n=r(6766),l=r(2115);function o(){let[e,t]=(0,l.useState)(!1),r=(0,l.useRef)(!1);return((0,l.useEffect)(()=>{function e(){window.innerHeight>window.innerWidth?t(!0):t(!1)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),r.current||!e)?null:(0,s.jsxs)("div",{className:"fixed text-foregroundHighlighted left-0 right-0 w-screen h-screen bg-error z-[900] flex gap-8 flex-col items-center justify-center p-10",children:[(0,s.jsx)(n.default,{src:"/images/rotate-device.svg",alt:"rotate",width:100,height:100}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"font-extrabold text-xl",children:"Brilliant Chess is not designed to be used in portrait mode."}),(0,s.jsx)("span",{className:"font-bold text-foreground",children:"Please rotate your device or resize the window."})]}),(0,s.jsx)("button",{className:"border-foregroundHighlighted border-2 rounded-borderRoundness p-2 text-lg font-bold hover:bg-foregroundHighlighted hover:text-error transition-colors",type:"button",onClick:function(){r.current=!0,t(!1)},children:"Continue anyway"})]})}},5607:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o,X:()=>l,default:()=>a});var s=r(5155),n=r(2115);let l={brilliant:!0,great:!0,best:!0,excellent:!0,good:!0,book:!0,inaccuracy:!0,mistake:!0,miss:!0,blunder:!0,forced:!0},o=(0,n.createContext)({openedMenu:[null,()=>{}],boardTheme:[0,()=>{}],usedRatings:[l,()=>{}],highlightByRating:[!0,()=>{}],showArrows:[!0,()=>{}],arrowAfterMove:[!0,()=>{}],showLegalMoves:[!0,()=>{}],animateMoves:[!0,()=>{}],boardSounds:[!0,()=>{}],boardMenuSettingsRef:{current:null}});function a(e){let[t,r]=(0,n.useState)(null),[a,i]=(0,n.useState)(0),[c,d]=(0,n.useState)(l),[u,f]=(0,n.useState)(!0),[h,m]=(0,n.useState)(!0),[g,x]=(0,n.useState)(!0),[v,p]=(0,n.useState)(!0),[y,w]=(0,n.useState)(!0),[b,j]=(0,n.useState)(!0),k=(0,n.useRef)(null);return(0,s.jsx)(o.Provider,{value:{boardTheme:[a,i],openedMenu:[t,r],usedRatings:[c,d],highlightByRating:[u,f],showArrows:[h,m],arrowAfterMove:[g,x],showLegalMoves:[v,p],animateMoves:[y,w],boardSounds:[b,j],boardMenuSettingsRef:k},children:e.children})}},6376:(e,t,r)=>{"use strict";r.d(t,{b:()=>l,default:()=>o});var s=r(5155),n=r(2115);let l=(0,n.createContext)({errors:[[],()=>{}]});function o(e){let[t,r]=(0,n.useState)([]);return(0,s.jsx)(l.Provider,{value:{errors:[t,r]},children:e.children})}},6627:(e,t,r)=>{Promise.resolve().then(r.bind(r,3065)),Promise.resolve().then(r.bind(r,8951)),Promise.resolve().then(r.bind(r,4772)),Promise.resolve().then(r.bind(r,1573)),Promise.resolve().then(r.bind(r,379)),Promise.resolve().then(r.bind(r,4490)),Promise.resolve().then(r.bind(r,2395)),Promise.resolve().then(r.bind(r,5607)),Promise.resolve().then(r.bind(r,6376))},7297:(e,t,r)=>{"use strict";r.d(t,{i3:()=>L,Ay:()=>z,Ky:()=>N});var s=r(5155),n=r(1692),l=r(2115),o=r(3912),a=r(4877),i=r(5607),c=r(2085),d=r(8266),u=r(2861),f=r(2794);function h(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",children:(0,s.jsx)("ellipse",{style:{fill:"#83b84f",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsx)("g",{id:"layer5",children:(0,s.jsx)("path",{style:{display:"inline",fill:"#ffffff",fillOpacity:1,stroke:"none",strokeWidth:21.6141,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},d:"M 25.492186,80.777068 20.5625,39.303716 43.264292,52.38658 59.99998,30.117829 76.73567,52.38658 99.43746,39.303716 94.507774,80.777068 c 0,0 -35.841521,10.436463 -69.015588,0 z",id:"path4"})})]})}function m(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",style:{display:"inline"},children:(0,s.jsx)("ellipse",{style:{fill:"#545250",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:60.385693,rx:60,ry:59.773922})}),(0,s.jsx)("g",{id:"layer2",children:(0,s.jsx)("path",{d:"M 38.375904,65.969456 H 28.196036 V 44.916429 h -8.38342 V 38.60399 q 4.303988,0 6.848955,-1.213931 2.544967,-1.248615 2.844375,-3.81521 h 8.869958 z M 74.454548,33.401431 45.075154,85.357662 h -9.88046 L 64.574091,33.401431 Z m 22.979553,51.956231 h -29.60395 v -6.555226 q 2.61982,-1.4914 5.277062,-3.121536 2.69467,-1.630135 4.640822,-3.052168 3.892301,-2.87875 5.015082,-4.647621 1.122779,-1.803553 1.122779,-3.884578 0,-2.011656 -1.534462,-3.121535 -1.497039,-1.10988 -4.341413,-1.10988 -2.61982,0 -5.164788,1.040512 -2.544967,1.005828 -3.929728,1.734187 h -0.860798 v -8.220044 q 2.619819,-0.83241 5.838455,-1.456718 3.256057,-0.65899 7.073507,-0.65899 6.886381,0 10.516705,2.566596 3.630316,2.566596 3.630316,7.352951 0,3.017485 -1.422187,5.584081 -1.422187,2.566597 -5.539045,6.000286 -1.272484,1.040512 -2.769523,2.081024 -1.497039,1.005828 -3.443191,2.323809 h 15.494357 z",id:"text3",style:{fontWeight:"bold",fontSize:96,lineHeight:0,fontFamily:"Tahoma",whiteSpace:"pre",fillOpacity:.4,strokeWidth:13.0634,strokeLinejoin:"round"},"aria-label":"\\xBD"})}),(0,s.jsx)("g",{id:"layer5",style:{display:"inline"},children:(0,s.jsx)("path",{style:{fontWeight:"bold",fontSize:96,lineHeight:0,fontFamily:"Tahoma",whiteSpace:"pre",fill:"#ffffff",strokeWidth:13.0634,strokeLinejoin:"round"},d:"M 38.375904,63.76256 H 28.196036 V 42.709535 h -8.38342 v -6.312439 q 4.303988,0 6.848955,-1.213931 2.544967,-1.248615 2.844375,-3.815211 h 8.869958 z M 74.454548,31.194536 45.075154,83.150767 h -9.88046 L 64.574091,31.194536 Z m 22.979553,51.956231 h -29.60395 v -6.555226 q 2.61982,-1.4914 5.277062,-3.121536 2.69467,-1.630135 4.640822,-3.052168 3.892301,-2.87875 5.015082,-4.64762 1.122779,-1.803554 1.122779,-3.884578 0,-2.011657 -1.534462,-3.121537 -1.497039,-1.109879 -4.341413,-1.109879 -2.61982,0 -5.164788,1.040512 -2.544967,1.005829 -3.929728,1.734186 h -0.860798 v -8.220043 q 2.619819,-0.832409 5.838455,-1.456717 3.256057,-0.658991 7.073507,-0.658991 6.886381,0 10.516705,2.566596 3.630316,2.566597 3.630316,7.352951 0,3.017486 -1.422187,5.584081 -1.422187,2.566597 -5.539045,6.000286 -1.272484,1.040512 -2.769523,2.081024 -1.497039,1.005829 -3.443191,2.32381 h 15.494357 z",id:"text2","aria-label":"\\xBD"})})]})}function g(e){let{size:t}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 120 120",id:"svg5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("defs",{id:"defs2"}),(0,s.jsx)("g",{id:"layer1",children:(0,s.jsx)("ellipse",{style:{fill:"#e02828",fillOpacity:1,stroke:"none",strokeWidth:.999462},id:"path111",cx:60,cy:59.773922,rx:60,ry:59.773922})}),(0,s.jsx)("g",{id:"layer4",children:(0,s.jsx)("path",{style:{fill:"#000000",fillOpacity:1,stroke:"none",strokeWidth:14.1458,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},d:"M 41.715833,82.745398 31.661004,94.420662 v 6.810578 H 88.333675 V 94.420662 L 78.278846,82.745398 Z",id:"path4"})}),(0,s.jsx)("g",{id:"layer2",style:{display:"inline"},children:(0,s.jsx)("path",{style:{display:"inline",fill:"#000000",fillOpacity:1,stroke:"#4d4d4d",strokeWidth:0,strokeLinecap:"round",strokeLinejoin:"round"},d:"m 53.071787,23.086221 v -9.238178 h 13.856672 v 9.238178 h 9.237784 V 36.942894 H 66.928459 V 91.225935 L 53.071787,91.572112 V 36.942894 H 43.834 V 23.086221 Z",id:"path1"})}),(0,s.jsxs)("g",{id:"layer3",transform:"translate(3.4432343)",style:{display:"inline"},children:[(0,s.jsx)("path",{style:{fill:"none",fillOpacity:1,stroke:"#000000",strokeWidth:15.996,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},d:"m 58.993978,95.892176 c 0,0 56.744932,-59.766856 -2.182497,-46.168221",id:"path2"}),(0,s.jsx)("path",{style:{fill:"none",fillOpacity:1,stroke:"#000000",strokeWidth:15.996,strokeLinecap:"butt",strokeLinejoin:"round",strokeDasharray:"none",strokeOpacity:1},d:"m 54.119502,95.892176 c 0,0 -56.744929,-59.766856 2.182497,-46.168221",id:"path3"})]})]})}function x(e){let{result:t,size:r,dataset:n,draggable:l,className:o,style:a,title:i}=e,c=(0,u.x)(null!=n?n:{}),d={size:r};return(0,s.jsx)("div",{title:i,draggable:l,...c,className:o,style:a,children:(()=>{switch(t){case"victory":return(0,s.jsx)(h,{...d});case"draw":return(0,s.jsx)(m,{...d});case"defeat":return(0,s.jsx)(g,{...d})}})()})}var v=r(6766);let p={forced:"",brilliant:"var(--highlightBrilliant)",great:"var(--highlightGreat)",best:"var(--highlightBest)",excellent:"var(--highlightExcellent)",good:"var(--highlightGood)",book:"var(--highlightBook)",inaccuracy:"var(--highlightInaccuracy)",mistake:"var(--highlightMistake)",miss:"var(--highlightMiss)",blunder:"var(--highlightBlunder)"},y={p:1,n:3,b:3,r:5,q:9,k:0},w=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/move-self.mp3")],preload:!0}),b=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/move-opponent.mp3")],preload:!0}),j=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/move-check.mp3")],preload:!0}),k=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/game-end.mp3")],preload:!0,volume:.25}),N=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/game-start.mp3")],preload:!0,volume:.5}),C=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/capture.mp3")],preload:!0}),S=new a.Howl({src:["".concat("/Brilliant-Chess","/sounds/castle.mp3")],preload:!0});function _(e){return{col:e.col,row:7-e.row}}function L(e){let{move:t,squareSize:r,white:n}=e;if(!t[1]){let l={x:r*t[0].col+"px",y:r*t[0].row+"px"},o="";0===t[0].row&&0===t[0].col&&(o=n?"rounded-tl-borderRoundness":"rounded-br-borderRoundness"),7===t[0].row&&0===t[0].col&&(o=n?"rounded-bl-borderRoundness":"rounded-tr-borderRoundness"),0===t[0].row&&7===t[0].col&&(o=n?"rounded-tr-borderRoundness":"rounded-bl-borderRoundness"),7===t[0].row&&7===t[0].col&&(o=n?"rounded-br-borderRoundness":"rounded-tl-borderRoundness");let a=r+"px";return(0,s.jsx)("div",{style:{top:n?l.y:"",bottom:n?"":l.y,left:n?l.x:"",right:n?"":l.x,width:a,height:a},className:"absolute opacity-80 z-[10] ".concat(e.class," ").concat(o)})}let[l,o]=t;if(2===Math.abs(l.col-o.col)&&1===Math.abs(l.row-o.row)||1===Math.abs(l.col-o.col)&&2===Math.abs(l.row-o.row)){let t={x:r*(n?l.col:7-l.col),y:r*(n?l.row:7-l.row)},a={x:r*(n?o.col:7-o.col),y:r*(n?o.row:7-o.row)},i={x:Math.abs(t.x-a.x),y:Math.abs(t.y-a.y)},c=Math.abs(Math.max(i.x,i.y)),d=Math.abs(Math.min(i.x,i.y)),u=r/2*(3/7),f=1.6*u,h=r/2,m=d+u/2,g=c+r/4-f,x=m-u/2,v=h/2,p="".concat(a.x+r/2-h/2,"px"),y="".concat(a.y+r/2,"px");return(0,s.jsxs)("svg",{style:{top:y,left:p,transformOrigin:"".concat(h/2,"px 0"),transform:(()=>{let e=Math.abs(l.row-o.row)>Math.abs(l.col-o.col),t=n?l.row<o.row:l.row>o.row,r=n?l.col<o.col:l.col>o.col,s=0,a=1,i=1;return e?t?(s=270,r&&(i=-1)):(s=90,r||(i=-1)):t?(s=180,r||(a=-1)):r&&(a=-1),"rotate(".concat(s,"deg) scaleX(").concat(a,") scaleY(").concat(i,")")})()},className:"absolute opacity-65 z-[70] pointer-events-none ".concat(e.class),width:g,height:m,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("polygon",{strokeWidth:0,points:"0,".concat(f," ").concat(v,",0 ").concat(h,",").concat(f)}),(0,s.jsx)("path",{fill:"none",strokeWidth:u,d:"M ".concat(v," ").concat(f-1," L ").concat(v," ").concat(x," L ").concat(g," ").concat(x)})]})}let a={x:r*l.col,y:r*l.row},i={x:r*o.col,y:r*o.row},c={x:(a.x-i.x)*(n?1:-1),y:(a.y-i.y)*(n?1:-1)},d=Math.sqrt(c.x**2+c.y**2),u=180/Math.PI*Math.atan2(c.x,c.y),f=r/2,h=f/2,m=3/7*f,g=1.6*m,x=d-g,v="".concat(i.x+r/2-f/2,"px"),p="".concat(i.y+r/2-(n?0:x),"px");return(0,s.jsxs)("svg",{style:{top:n?p:"",bottom:n?"":p,left:n?v:"",right:n?"":v,transformOrigin:"50% 0",rotate:-u+"deg"},className:"absolute opacity-65 z-[70] pointer-events-none ".concat(e.class),width:f,height:x,xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("line",{x1:h,y1:x,x2:h,y2:g-1,strokeWidth:m,markerEnd:"url(#arrowhead)"}),(0,s.jsx)("polygon",{strokeWidth:0,points:"0,".concat(g," ").concat(h,",0 ").concat(f,",").concat(g)})]})}function M(e){let{white:t,column:r,coroningWhite:n,squareSize:a,clearCoronation:i,coronate:c}=e,d=(0,l.useRef)(null),f=[o.ps,o.sR,o.wl,o.wt];(0,l.useEffect)(()=>{function e(e){var t;null!==(t=d.current)&&void 0!==t&&t.contains(e.target)||i()}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=n?o.UE:o.Uv,m=t&&n||!t&&!n;return(0,s.jsxs)("div",{ref:d,className:"flex absolute bg-white z-[90] shadow-lg shadow-black/50 cursor-pointer",style:{flexDirection:m?"column":"column-reverse",top:m?0:void 0,bottom:m?void 0:0,left:t?r*a:void 0,right:t?void 0:r*a},children:[f.map((e,t)=>(0,s.jsx)("div",{onClick:()=>{c(e)},children:(0,s.jsx)(u.default,{piece:e,color:h,size:a})},t)),(0,s.jsx)("div",{onClick:i,className:"bg-neutral-200 w-full flex justify-center items-center",style:{height:a/2},children:(0,s.jsx)(v.default,{draggable:!1,src:"/images/cross.svg",alt:"cancel",width:a/4.5,height:a/4.5})})]})}function E(e){let{boardRef:t,pieceRef:r,castleRookRef:n,moved:o,isCastleRook:a,pieceColor:i,pieceSymbol:c,drag:d,setDrag:f,id:h,squareSize:m,setPlaying:g,isCoronating:x}=e,[v,p]=(0,l.useState)({x:0,y:0}),y=(0,l.useRef)(!1);if(!x)return(0,s.jsx)("div",{"data-dontcleandrag":!0,onMouseDown:function(e){if(0!==e.button)return;y.current=d.id===h;let r=e.currentTarget.getBoundingClientRect(),s={x:r.x+r.width/2,y:r.y+r.height/2};function n(){document.removeEventListener("mousedown",l),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a),document.body.style.cursor=""}function l(){p({x:0,y:0}),f({is:!1,id:""}),n()}function o(e){0===e.button&&function(e,r){let s=t.current;if(!s)return;let n={min:{x:s.offsetLeft,y:s.offsetTop},max:{x:s.offsetLeft+s.offsetWidth,y:s.offsetTop+s.offsetHeight}};p({x:Math.min(Math.max(e.clientX,n.min.x),n.max.x)-r.x,y:Math.min(Math.max(e.clientY,n.min.y),n.max.y)-r.y})}(e,s)}function a(e){0===e.button&&(function(e,t){let r={x:e.clientX-t.x,y:e.clientY-t.y},s=h;y.current&&Math.abs(r.x)<=m/2&&Math.abs(r.y)<=m/2&&(s=""),p({x:0,y:0}),f({is:!1,id:s})}(e,s),n())}document.addEventListener("mousedown",l),document.addEventListener("mousemove",o),document.addEventListener("mouseup",a),document.body.style.cursor="grabbing",p({x:e.clientX-s.x,y:e.clientY-s.y}),g(!1),f({is:!0,id:h})},ref:o?r:a?n:null,className:"w-full relative h-full z-[20] cursor-grab",style:{top:v.y||"",left:v.x||"",zIndex:d.is&&d.id===h?100:""},children:(0,s.jsx)(u.default,{className:"*:pointer-events-none",dataset:{dontcleandrag:!0},piece:c,color:i,size:m})})}function z(e){var t,r,a,u;let[h,m]=(0,l.useState)(""),[g,v]=(0,l.useState)({choosing:!1,movement:[]}),N=(0,l.useContext)(i.Q),[z]=N.boardTheme,[R]=N.usedRatings,[B]=N.highlightByRating,[A]=N.showArrows,[O]=N.arrowAfterMove,[W]=N.showLegalMoves,[D]=N.animateMoves,[H]=N.boardSounds,I=(0,l.useRef)(null),T=(0,l.useRef)(null),G=(0,l.useRef)(null),F=(0,l.useRef)([]),{drag:P,bestMoveSan:V,setDrag:U,pushArrow:J,cleanArrows:q,setMaterialAdvantage:Y,setPlaying:Z,analyzingMove:X,arrows:$,controller:Q,previousStaticEvals:K,sacrifice:ee,boardSize:et,bestMove:er,previousBestMove:es,moveRating:en,forward:el,white:eo,animation:ea,gameEnded:ei,capture:ec,nextCapture:ed,castle:eu,nextCastle:ef,setAnimation:eh,result:em,analyzeMove:eg}=e,ex=e.fen,ev=e.nextFen,ep=null!==(a=e.move)&&void 0!==a?a:[],ey=null!==(u=e.nextMove)&&void 0!==u?u:[],ew=Math.round(et/8),eb=ew/4,ej=eb/4.5,ek=eb/2.5,eN=new o.d$(ex),eC=eN.board();eo||function(e){for(let t of e)t.reverse();e.reverse()}(eC);let eS="w"!==eN.turn(),e_=function(e,t){if(e)return{col:7*("k"===e),row:7*!!t}}(el?eu:ef,el?eS:!eS),eL=function(e,t){if(e)return{col:"k"===e?5:3,row:7*!!t}}(el?eu:ef,el?eS:!eS),eM=e_&&eL?[e_,eL]:[],eE=function(e){let t={};for(let r in e)R[r]&&(t[r]={color:p[r],rating:r});return t}(p),ez=B&&(null===(t=eE[en])||void 0===t?void 0:t.color)||c.J[z].highlight,eR=null===(r=eE[en])||void 0===r?void 0:r.rating,eB=el?eN:new o.d$(ev),eA=el?ec:ed,eO=el?eu:ef,eW=!("w"===eB.turn()?eo:!eo);(0,l.useEffect)(()=>{if(P.is||!P.id)return;let e=eN.get(P.id);if(!e||e.color!==eN.turn()){U({is:!1,id:""});return}},[ex]),(0,l.useEffect)(()=>{e.fen&&H&&(eO?S.play():eA?C.play():eB.isCheck()?j.play():eW?w.play():b.play(),ei&&k.play())},[ex]),(0,l.useEffect)(()=>{ea&&D&&(T.current&&eI(T.current,el?ep:ey,60,el,eo,ew),G.current&&eI(G.current,eM,50,el,eo,ew))},[ep,ea]);let eD=0;async function eH(e,t){var r;if(0!==e.button||!P.id)return;let s="mousedown"===e.type;if(setTimeout(()=>U({is:!1,id:""}),0),X)return;let l=P.id,a=(0,n.t4)(l),i=(0,n.t4)(t);(null===(r=eN.get(l))||void 0===r?void 0:r.type)===o.dD&&[0,7].includes(i.row)?v({choosing:!0,movement:[a,i]}):eg(ex,{from:l,to:t},null!=ee&&ee,null!=K?K:[],s,V)}function eI(e,t,r,s,n,l){if(0===t.length)return;let[o,a]=t,i={bottom:l*o.row,left:l*o.col},c={bottom:l*a.row,left:l*a.col},d={x:(c.left-i.left)*(n?1:-1),y:(c.bottom-i.bottom)*(n?1:-1)};function u(){e&&(e.style.zIndex="",e.style.willChange="")}e.style.zIndex=String(r),e.style.willChange="transform";let f=e.animate([{transform:"translate(".concat(s?-d.x:0,"px, ").concat(s?d.y:0,"px)")},{transform:"translate(".concat(s?0:d.x,"px, ").concat(s?0:-d.y,"px)")}],{duration:150,easing:"linear",direction:s?"normal":"reverse"});f.finished.then(u).catch(u),f.oncancel=u}(0,l.useEffect)(()=>Y(eD),[ex]);let eT=P.id?eN.moves({square:P.id,verbose:!0}).map(e=>e.to):[],eG=[c.J[z].white,c.J[z].black],eF=g.movement[0]?_(g.movement[0]):null;return(0,s.jsxs)("div",{ref:I,onContextMenu:e=>e.preventDefault(),onMouseDown:function(e){if(!P.is){if(e.target.dataset.dontcleandrag||U({id:"",is:!1}),2===e.button){e.preventDefault();let t=e.currentTarget.getBoundingClientRect();!function(e,t){let r=Math.floor(t/ew),s=Math.floor(e/ew);F.current[0]={col:eo?s:7-s,row:eo?r:7-r}}(e.clientX-t.x,e.clientY-t.y)}else q()}},onMouseUp:function(e){if(!P.is&&2===e.button){e.preventDefault(),eh(!1);let t=e.currentTarget.getBoundingClientRect();!function(e,t){let r=Math.floor(t/ew),s=Math.floor(e/ew);F.current[1]={col:eo?s:7-s,row:eo?r:7-r},F.current[0]&&F.current[1]&&(J([...F.current]),F.current=[])}(e.clientX-t.x,e.clientY-t.y)}},className:"grid w-fit h-fit relative",style:{gridTemplateColumns:"repeat(8, ".concat(ew,"px)"),pointerEvents:P.is?"none":"unset"},children:[(()=>{let e=[],t=7*!eo;for(let a of eC){let i=7*!eo;for(let u of a){var r,n;let a,v,p,w,b,j,k,N;let C=(r=i,n=t,String.fromCharCode(97+r)+(8-n));t%2==0?i%2==0?(a=eG[0],v=eG[1]):(a=eG[1],v=eG[0]):i%2==0?(a=eG[1],v=eG[0]):(a=eG[0],v=eG[1]),t===7*!!eo&&(w=(0,s.jsx)("span",{style:{right:ek,color:v},className:"absolute bottom-0",children:C[0]})),i===7*!eo&&(p=(0,s.jsx)("span",{style:{left:ej,color:v},className:"absolute top-0",children:C[1]}));let S="";0===t&&0===i&&(S=eo?"rounded-tl-borderRoundness":"rounded-br-borderRoundness"),7===t&&0===i&&(S=eo?"rounded-bl-borderRoundness":"rounded-tr-borderRoundness"),0===t&&7===i&&(S=eo?"rounded-tr-borderRoundness":"rounded-bl-borderRoundness"),7===t&&7===i&&(S=eo?"rounded-br-borderRoundness":"rounded-tl-borderRoundness");let L=(eo?7===i:0===i)?-5:35,M=(eo?0===t:7===t)?5:-35,R=ew/2.4;ep.forEach((e,r)=>{let n=_(e);n.col===i&&n.row===t&&(b=(0,s.jsx)("div",{style:{backgroundColor:ez},className:"absolute z-[10] top-0 left-0 w-full h-full opacity-50 ".concat(S)}),1===r&&(j=eR&&1===r?(0,s.jsx)(f.A,{className:"absolute top-0 right-0 z-[80] pointer-events-none",style:{transform:"translateX(".concat(L,"%) translateY(").concat(M,"%)")},size:R,rating:eR}):""))}),(C===P.id&&!b||g.choosing&&(null==eF?void 0:eF.col)===i&&(null==eF?void 0:eF.row)===t)&&(b=(0,s.jsx)("div",{style:{backgroundColor:c.J[z].highlight},className:"absolute top-0 left-0 w-full h-full opacity-50 ".concat(S)})),ei&&(null==u?void 0:u.type)===o.GB&&("1/2-1/2"===em?k=(0,s.jsx)(x,{className:"absolute top-0 right-0 z-[60]",style:{transform:"translateX(".concat(L,"%) translateY(").concat(M,"%)")},size:R,result:"draw"}):u.color===o.UE?"1-0"===em?k=k=(0,s.jsx)(x,{className:"absolute top-0 right-0 z-[60]",style:{transform:"translateX(".concat(L,"%) translateY(").concat(M,"%)")},size:R,result:"victory"}):"0-1"===em&&(k=(0,s.jsx)(x,{className:"absolute top-0 right-0 z-[60]",style:{transform:"translateX(".concat(L,"%) translateY(").concat(M,"%) rotate(-90deg)")},size:R,result:"defeat"})):"0-1"===em?k=(0,s.jsx)(x,{className:"absolute top-0 right-0 z-[60]",style:{transform:"translateX(".concat(L,"%) translateY(").concat(M,"%)")},size:R,result:"victory"}):"1-0"===em&&(k=(0,s.jsx)(x,{className:"absolute top-0 right-0 z-[60]",style:{transform:"translateX(".concat(L,"%) translateY(").concat(M,"%) rotate(-90deg)")},size:R,result:"defeat"})));let B=el?ep[1]:ey[0],A=B?_(B):{col:NaN,row:NaN},O=A.col===i&&A.row===t,D=el?(null==eL?void 0:eL.col)===i&&(null==eL?void 0:eL.row)===t:(null==e_?void 0:e_.col)===i&&(null==e_?void 0:e_.row)===t,H=null==u?void 0:u.color,F=null==u?void 0:u.type;H&&F&&(N=(0,s.jsx)(E,{setPlaying:Z,squareSize:ew,drag:P,setDrag:U,id:C,pieceRef:T,moved:O,isCastleRook:D,castleRookRef:G,pieceColor:H,pieceSymbol:F,boardRef:I,isCoronating:g.choosing&&(null==eF?void 0:eF.col)===i&&(null==eF?void 0:eF.row)===t}));let V=(0,s.jsx)("div",{style:{display:P.is?"":"none",opacity:h===C?"100":"",borderWidth:.05*ew},onMouseEnter:()=>m(C),onMouseLeave:()=>m(""),className:"absolute top-0 z-[30] left-0 w-full h-full border-opacity-65 opacity-0 block border-white pointer-events-auto ".concat(S)}),J=eT.includes(C)?N?(0,s.jsx)("div",{onMouseEnter:()=>m(C),onMouseLeave:()=>m(""),onMouseDown:e=>eH(e,C),onMouseUp:e=>eH(e,C),className:"absolute w-full h-full z-[40] top-0 left-0 cursor-grab pointer-events-auto",children:(0,s.jsx)("div",{style:{borderWidth:.12*ew},className:"border-black opacity-[15%] w-full h-full rounded-full"})}):(0,s.jsx)("div",{onMouseEnter:()=>m(C),onMouseLeave:()=>m(""),onMouseDown:e=>eH(e,C),onMouseUp:e=>eH(e,C),style:{opacity:W?"":0},className:"absolute w-full h-full z-[40] top-0 left-0 flex justify-center items-center pointer-events-auto",children:(0,s.jsx)("div",{className:"bg-black opacity-[15%] w-[30%] h-[30%] rounded-full"})}):null,q=i;function l(){/Mobi|Android|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)&&(U({is:!1,id:""}),window.innerWidth<d.zM&&(eo?q<4?Q.back():Q.forward():q<4?Q.forward():Q.back()))}e.push((0,s.jsxs)("div",{onClick:l,"data-square":C,style:{height:ew+"px",width:ew+"px",fontSize:eb,backgroundColor:a},className:"font-bold relative ".concat(S),children:[p,w,N,b,k?null:j,k,V,J]},C)),u&&((null==u?void 0:u.color)===o.UE?eD+=y[u.type]:eD-=y[u.type]),eo?i++:i--}eo?t++:t--}return e})(),(()=>{if(!A||"book"===eR&&O||void 0===eR)return;let e=O?es:er,t=null==e?void 0:e.map(e=>_(e));return t?(0,s.jsx)(L,{move:t,squareSize:ew,class:"fill-bestArrow stroke-bestArrow",white:eo}):""})(),$.map((e,t)=>{let r=JSON.stringify(e[0])===JSON.stringify(e[1]);return(0,s.jsx)(L,{move:r?[e[0]]:e,squareSize:ew,class:r?"bg-badArrow":"fill-normalArrow stroke-normalArrow",white:eo},t)}),(()=>{if(!g.choosing)return;let e=g.movement[1];return(0,s.jsx)(M,{white:eo,squareSize:ew,column:e.col,coroningWhite:!eS,clearCoronation:()=>v({choosing:!1,movement:[]}),coronate:function(e){eg(ex,{from:(0,n.Yo)(g.movement[0]),to:(0,n.Yo)(g.movement[1]),promotion:e},null!=ee&&ee,null!=K?K:[],!1,V),v({choosing:!1,movement:[]})}})})()]})}},8266:(e,t,r)=>{"use strict";r.d(t,{VU:()=>n,zM:()=>s});let s=1050,n=1669},8596:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155);function n(e){return(0,s.jsxs)("svg",{width:"20px",height:"20px",viewBox:"0 -4.5 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:"arrow_up [#337]"}),(0,s.jsx)("desc",{children:"Created with Sketch."}),(0,s.jsx)("defs",{}),(0,s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,s.jsx)("g",{id:"Dribbble-Light-Preview",transform:"translate(-260.000000, -6684.000000)",className:e.class,children:(0,s.jsx)("g",{id:"icons",transform:"translate(56.000000, 160.000000)",children:(0,s.jsx)("path",{d:"M223.707692,6534.63378 L223.707692,6534.63378 C224.097436,6534.22888 224.097436,6533.57338 223.707692,6533.16951 L215.444127,6524.60657 C214.66364,6523.79781 213.397472,6523.79781 212.616986,6524.60657 L204.29246,6533.23165 C203.906714,6533.6324 203.901717,6534.27962 204.282467,6534.68555 C204.671211,6535.10081 205.31179,6535.10495 205.70653,6534.69695 L213.323521,6526.80297 C213.714264,6526.39807 214.346848,6526.39807 214.737591,6526.80297 L222.294621,6534.63378 C222.684365,6535.03868 223.317949,6535.03868 223.707692,6534.63378",id:"arrow_up-[#337]"})})})})]})}},8951:(e,t,r)=>{"use strict";r.d(t,{a:()=>d,default:()=>i,s:()=>c});var s=r(5155),n=r(2115),l=r(6376);function o(e){let{title:t,description:r,errorKey:l,removeError:o,newErrorKey:a,y:i,type:c}=e,[d,u]=(0,n.useState)(!0),f=(0,n.useRef)(null);return(0,n.useEffect)(()=>{setTimeout(()=>{u(!0),setTimeout(()=>o(l),150)},7500),u(!1)},[]),(0,n.useEffect)(()=>{if(a===l)return;let e=document.querySelector('[data-errorkey="'.concat(a,'"]'));if(!e||!f.current)return;let t=e.offsetHeight;f.current.animate([{transform:"translateY(".concat(t*("t"===i?-1:1),"px)")},{transform:"translateY(0px)"}],{duration:50})},[a]),(0,s.jsxs)("div",{ref:f,"data-errorkey":l,style:{opacity:100*!d,backgroundColor:"error"===c?"var(--error)":"warning"===c?"var(--warning)":""},className:"p-3 text-xl select-text z-[999] text-foregroundHighlighted font-bold rounded-borderRoundness hover:scale-105 will-change-transform transition-all max-w-96",children:[t,(0,s.jsx)("div",{style:{display:r?"":"none"},className:"text-base opacity-85 mt-2",children:r})]})}let a=0;function i(){let[e,t]=(0,n.useContext)(l.b).errors,r="br".substring(1,2),a="br".substring(0,1),i=e=>{t(t=>t.filter(t=>t.errorKey!==e))};return(0,s.jsx)("div",{className:"absolute w-fit flex m-5 gap-2",style:{top:"t"===a?0:"",bottom:"b"===a?0:"",right:"r"===r?0:"",left:"l"===r?0:"",flexDirection:"b"===a?"column":"column-reverse",alignItems:"r"===r?"flex-end":"flex-start"},children:e.map(t=>(0,s.jsx)(o,{...t,removeError:i,newErrorKey:e[e.length-1].errorKey,y:a,type:t.type},t.errorKey))})}async function c(e,t,r){a++,e(e=>[...e,{title:t,description:r,type:"error",errorKey:a}])}async function d(e,t,r){a++,e(e=>[...e,{title:t,description:r,type:"warning",errorKey:a}])}}},e=>{var t=t=>e(e.s=t);e.O(0,[79,538,861,441,684,358],()=>t(6627)),_N_E=e.O()}]);